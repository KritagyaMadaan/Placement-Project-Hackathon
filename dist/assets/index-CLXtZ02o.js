import{i as Ls,g as Ts,a as Os,b as $s,c as Vs,q as os,o as cs,d as be,e as ge,s as fe,f as re,h as ds,j as Gs,k as _s,l as qs,m as Hs,n as Ws,u as ce,p as Ys,r as n,t as e,L as We,S as Je,C as Js,v as Ks,B as xe,O as xs,U as Ue,M as Ne,w as Xs,x as Qs,y as he,z as js,A as ie,D as me,R as Te,E as ve,K as Zs,F as Ns,G as Y,H as et,I as Ke,J as st,N as Be,P as ue,Q as vs,T as ys,V as Oe,W as tt,X as Ae,Y as Ce,Z as se,_ as ws,$ as ms,a0 as at,a1 as Ss,a2 as ks,a3 as Fe,a4 as us,a5 as je,a6 as lt,a7 as Cs,a8 as Ye,a9 as rt,aa as Xe,ab as hs,ac as Ie,ad as nt,ae as ps,af as it,ag as ot,ah as ct,ai as dt,aj as J,ak as Pe,al as xt}from"./vendor-B9O8AJQT.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const l of h.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&f(l)}).observe(document,{childList:!0,subtree:!0});function r(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(c){if(c.ep)return;c.ep=!0;const h=r(c);fetch(c.href,h)}})();const mt={apiKey:"AIzaSyB02jisW9SJy0Ix3AEcyrNcENRbeQBz1fk",authDomain:"placement-6b59e.firebaseapp.com",projectId:"placement-6b59e",storageBucket:"placement-6b59e.firebasestorage.app",messagingSenderId:"246786104979",appId:"1:246786104979:web:8a9d044edd20816d0f7766",measurementId:"G-PT6MXL941H"},$e=Ls(mt);typeof window<"u"&&Ts($e);const Me=Os($e),K=$s($e);Vs($e);const B={saveStudent:async s=>{await fe(re(K,"students",s.id),s)},getStudent:async s=>{const t=await ds(re(K,"students",s));return t.exists()?t.data():null},getAllStudents:async()=>(await ge(be(K,"students"))).docs.map(t=>t.data()),deleteStudent:async s=>{await Gs(re(K,"students",s))},saveCompany:async s=>{await fe(re(K,"companies",s.id),s)},getCompany:async s=>{const t=await ds(re(K,"companies",s));return t.exists()?t.data():null},getAllCompanies:async()=>(await ge(be(K,"companies"))).docs.map(t=>t.data()),saveDrive:async s=>{await fe(re(K,"drives",s.id),s)},getAllDrives:async()=>(await ge(be(K,"drives"))).docs.map(t=>t.data()),saveApplication:async s=>{await fe(re(K,"applications",s.id),s)},getAllApplications:async()=>(await ge(be(K,"applications"))).docs.map(t=>t.data()),saveNotice:async s=>{await fe(re(K,"notices",s.id),s)},getAllNotices:async()=>{const s=os(be(K,"notices"),cs("postedAt","desc"));return(await ge(s)).docs.map(r=>r.data())},saveEvent:async s=>{await fe(re(K,"events",s.id),s)},getAllEvents:async()=>{const s=os(be(K,"events"),cs("date","asc"));return(await ge(s)).docs.map(r=>r.data())}},bs={USER:"nfsu_user_session"},E={getStudents:async()=>await B.getAllStudents(),getCompanies:async()=>await B.getAllCompanies(),getDrives:async()=>await B.getAllDrives(),getApplications:async()=>await B.getAllApplications(),getStudent:async s=>await B.getStudent(s)||void 0,getCompany:async s=>await B.getCompany(s)||void 0,getDrive:async s=>(await B.getAllDrives()).find(r=>r.id===s),getEligibleStudentsForDrive:async s=>(await E.getStudents()).filter(r=>r.isVerified&&!r.isBlacklisted&&r.cgpa>=s.minCgpa&&r.backlogs<=s.maxBacklogs&&s.eligibleBranches.includes(r.branch)),saveStudent:async s=>{await B.saveStudent(s)},registerStudent:async s=>(await B.saveStudent(s),!0),deleteStudent:async s=>{await B.deleteStudent(s)},bulkDeleteStudents:async s=>{for(const t of s)await B.deleteStudent(t)},verifyStudent:async s=>{const t=await B.getStudent(s);t&&(t.isVerified=!0,await B.saveStudent(t))},bulkVerifyStudents:async s=>{for(const t of s)await E.verifyStudent(t)},bulkBlacklistStudents:async(s,t)=>{for(const r of s){const f=await B.getStudent(r);f&&(f.isBlacklisted=t,await B.saveStudent(f))}},importStudents:async s=>{for(const t of s)await B.saveStudent(t)},saveCompany:async s=>{await B.saveCompany(s)},saveDrive:async s=>{await B.saveDrive(s)},approveCompany:async s=>{const t=await B.getCompany(s);t&&(t.isApproved=!0,await B.saveCompany(t))},saveApplication:async s=>{await B.saveApplication(s)},updateApplicationStatus:async(s,t)=>{const f=(await B.getAllApplications()).find(c=>c.id===s);f&&(f.status=t,await B.saveApplication(f))},getCurrentUser:()=>{const s=sessionStorage.getItem(bs.USER);return s?JSON.parse(s):null},logout:()=>{sessionStorage.removeItem(bs.USER)},getNotices:async()=>await B.getAllNotices(),getActiveNotices:async()=>(await B.getAllNotices()).filter(t=>t.isActive),saveNotice:async s=>{await B.saveNotice(s)},deleteNotice:async s=>{},getEvents:async()=>await B.getAllEvents(),getActiveEvents:async()=>(await B.getAllEvents()).filter(t=>t.isActive),saveEvent:async s=>{await B.saveEvent(s)}},ye={signUp:async(s,t)=>Ws(Me,s,t),signIn:async(s,t)=>Hs(Me,s,t),logout:async()=>(sessionStorage.removeItem("nfsu_user_session"),qs(Me)),onAuthChange:s=>_s(Me,s),getCurrentUser:()=>{const s=sessionStorage.getItem("nfsu_user_session");return s?JSON.parse(s):null}};var _=(s=>(s.ADMIN="ADMIN",s.STUDENT="STUDENT",s.RECRUITER="RECRUITER",s.GUEST="GUEST",s))(_||{}),W=(s=>(s.APPLIED="Applied",s.SHORTLISTED="Shortlisted",s.TECHNICAL="Technical Round",s.HR="HR Round",s.SELECTED="Selected",s.REJECTED="Rejected",s))(W||{});const ut=()=>{const s=ce(),t=Ys(),r=E.getCurrentUser(),[f,c]=n.useState(!1),l=["/","/login","/signup","/register-company","/recruiter-login","/admin-login"].includes(t.pathname),d="https://upload.wikimedia.org/wikipedia/en/a/a7/National_Forensic_Sciences_University_Logo.png",x=async()=>{await ye.logout(),s("/")},y=M=>{switch(M){case _.ADMIN:return"/admin";case _.RECRUITER:return"/recruiter";case _.STUDENT:return"/student";default:return"/"}};return l?e.jsxs("div",{className:"min-h-screen flex flex-col font-sans bg-white text-slate-900",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-100 sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-6 h-20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 md:gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>s("/"),children:[e.jsx("img",{src:d,alt:"NFSU Logo",className:"w-10 h-10 object-contain transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"hidden lg:flex flex-col",children:[e.jsx("span",{className:"text-lg font-extrabold text-slate-900 leading-none tracking-tight",children:"NFSU"}),e.jsx("span",{className:"text-sm font-bold text-rose-500 tracking-widest uppercase mt-0.5",children:"Placement Cell"})]})]}),e.jsx("div",{className:"h-6 w-px bg-gray-200 hidden md:block"}),e.jsx("div",{className:"flex items-center gap-3",children:r?e.jsxs("button",{onClick:()=>s(y(r.role)),className:"flex items-center gap-2 px-6 py-2.5 rounded-full bg-slate-900 text-white font-semibold text-sm hover:bg-slate-800 transition shadow-sm hover:shadow-md active:scale-95",children:[e.jsx(We,{size:16}),"Go to Dashboard"]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s("/login"),className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-2.5 rounded-full bg-slate-900 text-white font-semibold text-[10px] md:text-sm hover:bg-slate-800 transition shadow-sm hover:shadow-md active:scale-95",children:"Student Login"}),e.jsx("button",{onClick:()=>s("/signup"),className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-2.5 rounded-full border border-slate-200 text-slate-600 font-semibold text-[10px] md:text-sm hover:border-slate-400 hover:text-slate-900 transition active:scale-95",children:"Register"})]})})]}),e.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[e.jsxs("button",{onClick:()=>s("/admin-login"),className:"flex items-center gap-2 text-[10px] md:text-xs font-bold text-gray-400 hover:text-slate-900 uppercase tracking-wider transition",children:[e.jsx(Je,{size:14})," Master"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!f),onBlur:()=>setTimeout(()=>c(!1),200),className:"flex items-center gap-1.5 text-slate-600 font-semibold text-[10px] md:text-sm hover:text-rose-600 transition px-2 md:px-3 py-2 rounded-lg hover:bg-rose-50",children:["For Recruiters ",e.jsx(Js,{size:16,className:`transition-transform duration-200 ${f?"rotate-180":""}`})]}),f&&e.jsxs("div",{className:"absolute right-0 mt-4 w-64 bg-white rounded-2xl shadow-xl border border-gray-100 py-3 z-50 animate-in fade-in slide-in-from-top-2",children:[e.jsx("div",{className:"px-5 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Corporate Access"}),e.jsxs("button",{onClick:()=>s("/recruiter-login"),className:"w-full text-left px-5 py-3 text-sm text-slate-700 hover:bg-slate-50 hover:text-rose-600 flex items-center gap-3 font-medium transition-colors",children:[e.jsx(Ks,{size:16})," Recruiter Login"]}),e.jsxs("button",{onClick:()=>s("/register-company"),className:"w-full text-left px-5 py-3 text-sm text-slate-700 hover:bg-slate-50 hover:text-rose-600 flex items-center gap-3 font-medium transition-colors",children:[e.jsx(xe,{size:16})," Register Company"]})]})]})]})]})}),e.jsx("main",{className:"flex-grow",children:e.jsx(xs,{},t.pathname)}),e.jsx("footer",{className:"bg-white border-t border-gray-100 py-12 mt-auto",children:e.jsxs("div",{className:"container mx-auto text-center px-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"text-rose-600 font-bold tracking-widest uppercase text-xs",children:"National Forensic Sciences University"})}),e.jsx("p",{className:"text-slate-900 font-bold text-lg tracking-tight",children:"Dharwad Campus Placement Cell"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-4",children:["Â© ",new Date().getFullYear()," Official Portal â€¢ Secure & Verified"]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex font-sans",children:[e.jsxs("aside",{className:"w-64 bg-slate-900 text-slate-300 flex flex-col fixed h-full z-10 shadow-xl",children:[e.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center gap-3 cursor-pointer hover:bg-slate-800 transition",onClick:()=>s("/"),children:[e.jsx("img",{src:d,alt:"NFSU Logo",className:"w-10 h-10 object-contain bg-white rounded-full p-0.5"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white text-lg font-bold leading-tight",children:"NFSU Portal"}),e.jsx("p",{className:"text-xs text-slate-400 truncate w-32",title:r==null?void 0:r.name,children:r==null?void 0:r.name})]})]}),e.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[(r==null?void 0:r.role)===_.ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx(de,{to:"/admin/students",icon:e.jsx(Ue,{size:18}),label:"Student Database",active:t.pathname==="/admin/students"}),e.jsx(de,{to:"/admin/drives",icon:e.jsx(xe,{size:18}),label:"Placement Drives",active:t.pathname==="/admin/drives"}),e.jsx(de,{to:"/admin/mail-bot",icon:e.jsx(Ne,{size:18}),label:"Mail Bot (AI)",active:t.pathname==="/admin/mail-bot"})]}),(r==null?void 0:r.role)===_.STUDENT&&e.jsxs(e.Fragment,{children:[e.jsx(de,{to:"/student",icon:e.jsx(We,{size:18}),label:"Dashboard",active:t.pathname==="/student"}),e.jsx(de,{to:"/student/profile",icon:e.jsx(Ue,{size:18}),label:"My Profile",active:t.pathname==="/student/profile"})]}),(r==null?void 0:r.role)===_.RECRUITER&&e.jsxs(e.Fragment,{children:[e.jsx(de,{to:"/recruiter",icon:e.jsx(We,{size:18}),label:"Dashboard",active:t.pathname==="/recruiter"}),e.jsx(de,{to:"/recruiter/drives",icon:e.jsx(xe,{size:18}),label:"My Drives",active:t.pathname==="/recruiter/drives"})]})]}),e.jsx("div",{className:"p-4 border-t border-slate-700",children:e.jsxs("button",{onClick:x,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-red-400 hover:bg-slate-800 rounded transition",children:[e.jsx(Xs,{size:18}),"Sign Out"]})})]}),e.jsx("main",{className:"flex-1 ml-64 p-8 overflow-y-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(xs,{},t.pathname)})})]})},de=({to:s,icon:t,label:r,active:f})=>e.jsxs(Qs,{to:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${f?"bg-rose-600 text-white shadow-md":"hover:bg-slate-800"}`,children:[t,r]}),ht=()=>{const[s,t]=n.useState(null),[r,f]=n.useState([]);return n.useEffect(()=>{(async()=>{const h=await E.getActiveNotices();h.length>0&&t(h[0]);const l=await E.getActiveEvents();f(l.slice(0,2))})()},[]),e.jsxs("div",{className:"flex flex-col min-h-[85vh] font-sans text-slate-900",children:[e.jsx("section",{className:"bg-white pt-20 pb-28 px-6 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative z-10 flex flex-col md:flex-row items-center gap-20",children:[e.jsxs("div",{className:"flex-1 text-left animate-in slide-in-from-left-10 duration-700",children:[e.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-rose-50 border border-rose-100 text-rose-600 text-xs font-bold tracking-widest uppercase mb-8",children:"Official Placement Portal"}),e.jsxs("h1",{className:"text-6xl lg:text-7xl font-extrabold tracking-tight leading-[1.05] mb-8 text-slate-900",children:["Launch Your ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-600 to-purple-600",children:"Forensic Career"})]}),e.jsx("p",{className:"text-xl text-slate-500 max-w-lg leading-relaxed mb-10 font-medium",children:"Connecting NFSU Dharwad's elite talent with global security agencies, forensic labs, and top-tier recruiters."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm font-semibold text-slate-600",children:[e.jsxs("span",{className:"flex items-center gap-2 bg-slate-50 px-4 py-2 rounded-full border border-slate-100",children:[e.jsx(Je,{size:18,className:"text-green-500"})," Admin Verified"]}),e.jsxs("span",{className:"flex items-center gap-2 bg-slate-50 px-4 py-2 rounded-full border border-slate-100",children:[e.jsx(he,{size:18,className:"text-blue-500"})," Top Recruiters"]})]})]}),e.jsxs("div",{className:"flex-1 relative animate-in slide-in-from-right-10 duration-700 delay-100",children:[e.jsx("div",{className:"relative z-10",children:e.jsx("img",{src:"https://cdni.iconscout.com/illustration/premium/thumb/job-search-2537380-2146476.png",alt:"Placement Illustration",className:"w-full max-w-xl object-contain drop-shadow-2xl"})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-rose-100/40 rounded-full blur-3xl -z-10"})]})]})}),e.jsxs("section",{className:"bg-slate-50 py-24 px-6 relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-white to-transparent"}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-16 text-slate-900",children:"Placement Updates"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"group bg-white rounded-3xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all duration-300 border border-slate-100 flex flex-col",children:[e.jsx("div",{className:"w-14 h-14 bg-rose-50 rounded-2xl flex items-center justify-center text-rose-600 mb-6 group-hover:scale-110 transition-transform",children:e.jsx(js,{size:26})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Latest Notice"}),s?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-slate-500 leading-relaxed mb-8 text-sm flex-grow",children:[e.jsx("strong",{children:s.title}),e.jsx("br",{}),s.description]}),e.jsxs("div",{className:"border-t border-slate-50 pt-4 flex items-center gap-2 text-xs text-slate-400 font-bold uppercase tracking-wider",children:[e.jsx(ie,{size:14})," ",new Date(s.postedAt).toLocaleDateString()]})]}):e.jsx("p",{className:"text-slate-400 leading-relaxed mb-8 text-sm flex-grow italic",children:"No notices posted yet. Check back later for updates!"})]}),e.jsxs("div",{className:"group bg-white rounded-3xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all duration-300 border border-slate-100 flex flex-col",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-600 mb-6 group-hover:scale-110 transition-transform",children:e.jsx(ie,{size:26})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Upcoming Events"}),r.length>0?e.jsx("div",{className:"space-y-6 flex-grow",children:r.map(c=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 min-w-[50px] text-center border border-slate-100",children:[e.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:c.month}),e.jsx("span",{className:"block text-lg font-bold text-slate-900",children:c.day})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:c.title}),e.jsx("p",{className:"text-xs text-slate-500",children:c.description})]})]},c.id))}):e.jsx("p",{className:"text-slate-400 text-sm italic flex-grow",children:"No upcoming events scheduled. Stay tuned!"})]}),e.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 shadow-2xl text-white relative overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"relative z-10 flex-grow",children:[e.jsx("div",{className:"w-14 h-14 bg-white/10 rounded-2xl flex items-center justify-center text-white mb-6 backdrop-blur-sm",children:e.jsx(me,{size:26})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Critical Instructions"}),e.jsxs("ul",{className:"space-y-4 text-slate-300 text-sm leading-relaxed",children:[e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full mt-2 shrink-0"}),e.jsxs("span",{children:["Register using official ",e.jsx("strong",{children:"NFSU email ID"})," only."]})]}),e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full mt-2 shrink-0"}),e.jsxs("span",{children:["Upload resume in ",e.jsx("strong",{children:"PDF format"})," (Max 2MB)."]})]}),e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full mt-2 shrink-0"}),e.jsxs("span",{children:["Wait for admin ",e.jsx("strong",{children:"verification"})," before applying."]})]})]})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-rose-600 rounded-full blur-3xl opacity-20"})]})]})]})]})]})},pt=()=>{const[s,t]=n.useState(""),[r,f]=n.useState(""),[c,h]=n.useState(""),l=ce();Te.useEffect(()=>{const x=E.getCurrentUser();x&&x.role===_.STUDENT&&l("/student")},[l]);const d=async x=>{x.preventDefault(),h("");try{const M=(await ye.signIn(s,r)).user,p=await B.getStudent(M.uid);if(p){const w={id:p.id,name:p.name,email:p.email,role:_.STUDENT};sessionStorage.setItem("nfsu_user_session",JSON.stringify(w)),l("/student")}else h("Profile not found. Please contact admin.")}catch(y){console.error(y),h(y.message||"Invalid credentials or connection error.")}};return e.jsxs("div",{className:"min-h-screen flex bg-white font-sans",children:[e.jsxs("div",{className:"w-full lg:w-[45%] flex flex-col justify-center p-8 lg:p-20 relative",children:[e.jsxs("button",{onClick:()=>l("/"),className:"absolute top-8 left-8 text-slate-400 hover:text-slate-900 transition flex items-center gap-2 text-sm font-semibold",children:[e.jsx(ve,{size:18})," Back"]}),e.jsxs("div",{className:"max-w-md w-full mx-auto",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-xl flex items-center justify-center mb-8 text-2xl",children:"ðŸŽ“"}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-extrabold text-slate-900 mb-3 tracking-tight",children:"Welcome back"}),e.jsx("p",{className:"text-slate-500 mb-10 text-lg",children:"Please enter your student details."}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"University Email"}),e.jsx("input",{type:"email",className:"w-full px-5 py-3.5 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition font-medium text-slate-900 placeholder-slate-400",placeholder:"student@nfsu.ac.in",value:s,onChange:x=>t(x.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Password"}),e.jsx("span",{className:"text-xs font-bold text-rose-600 cursor-pointer hover:text-rose-700",children:"Forgot password?"})]}),e.jsx("input",{type:"password",className:"w-full px-5 py-3.5 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition font-medium text-slate-900 placeholder-slate-400",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:r,onChange:x=>f(x.target.value),required:!0})]}),c&&e.jsxs("div",{className:"text-rose-600 bg-rose-50 px-4 py-3 rounded-xl text-sm font-bold border border-rose-100 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-600 rounded-full"}),c]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-4 rounded-xl font-bold text-sm hover:bg-slate-800 transition shadow-xl shadow-slate-200 active:scale-[0.99] duration-200",children:"Continue"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:["Don't have an account? ",e.jsx("span",{onClick:()=>l("/signup"),className:"text-slate-900 font-bold cursor-pointer hover:underline",children:"Sign up"})]})})]})]}),e.jsxs("div",{className:"hidden lg:flex w-[55%] bg-slate-50 relative overflow-hidden items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:16px_16px] opacity-50"}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-200 rounded-full blur-3xl opacity-30 mix-blend-multiply filter"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-rose-200 rounded-full blur-3xl opacity-30 mix-blend-multiply filter"}),e.jsxs("div",{className:"relative z-10 p-10 text-center",children:[e.jsx("img",{src:"https://cdni.iconscout.com/illustration/premium/thumb/login-3305943-2757111.png",alt:"Secure Login",className:"max-w-lg w-full object-contain drop-shadow-2xl mb-8 transform hover:scale-105 transition duration-700"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Secure Placement Portal"}),e.jsx("p",{className:"text-slate-500",children:"Access your placement dashboard safely."})]})]})]})},bt=()=>{const[s,t]=n.useState(""),[r,f]=n.useState(""),c=ce(),h=async l=>{l.preventDefault(),f("");try{const d="admin@nfsu.ac.in";await ye.signIn(d,s);const x={id:"master_admin",name:"Placement Officer",email:d,role:_.ADMIN};sessionStorage.setItem("nfsu_user_session",JSON.stringify(x)),c("/admin/students")}catch{f("Access Denied: Incorrect Master Key or Connection Error")}};return e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-2xl w-full max-w-sm text-center relative",children:[e.jsx("button",{onClick:()=>c("/"),className:"absolute top-4 left-4 p-2 text-gray-400 hover:text-gray-700 transition rounded-full hover:bg-gray-100",children:e.jsx(ve,{size:20})}),e.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-900",children:e.jsx(Je,{size:40})}),e.jsx("h2",{className:"text-2xl font-extrabold text-slate-900 mb-2",children:"Master Access"}),e.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"Restricted to Placement Cell Officers only."}),e.jsxs("form",{onSubmit:h,className:"space-y-6 text-left",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Master Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"password",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-900 outline-none transition font-medium text-slate-900",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:s,onChange:l=>t(l.target.value),autoFocus:!0,required:!0})]})]}),r&&e.jsx("div",{className:"text-red-500 text-sm font-bold text-center",children:r}),e.jsxs("button",{type:"submit",className:"w-full bg-slate-900 text-white py-4 rounded-lg font-bold hover:bg-slate-800 transition flex items-center justify-center gap-2",children:["Authenticate ",e.jsx(Ns,{size:16})]})]})]})})},ne=["M.Sc Cyber Security","M.Sc Digital Forensics","M.Sc Forensic Science","B.Tech Computer Science","MBA Forensic Accounting"],gt=()=>{const s=ce(),[t,r]=n.useState({name:"",hrName:"",hrEmail:"",password:"",role:"",ctc:"",minCgpa:0,maxBacklogs:0,eligibleBranches:[],deadline:"",description:""}),[f,c]=n.useState(!1),[h,l]=n.useState(""),[d,x]=n.useState(!1),y=p=>{const w=t.eligibleBranches||[];w.includes(p)?r({...t,eligibleBranches:w.filter(A=>A!==p)}):r({...t,eligibleBranches:[...w,p]})},M=async p=>{p.preventDefault(),l(""),x(!0);try{const D=(await ye.signUp(t.hrEmail,t.password)).user.uid,F={id:D,name:t.name,hrName:t.hrName,hrEmail:t.hrEmail,password:t.password,isApproved:!1,description:t.description},S={id:`d${Date.now()}`,companyId:D,role:t.role,ctc:t.ctc,minCgpa:t.minCgpa,maxBacklogs:t.maxBacklogs,eligibleBranches:t.eligibleBranches,deadline:t.deadline,description:t.description,rounds:["Aptitude","Technical","HR"],status:"Open"};await B.saveCompany(F),await B.saveDrive(S),c(!0)}catch(w){console.error(w),w.code==="auth/email-already-in-use"?l("An account with this email already exists."):l(w.message||"Registration failed. Please try again.")}finally{x(!1)}};return f?e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-4 bg-gray-50",children:e.jsxs("div",{className:"bg-white p-12 rounded-2xl shadow-xl text-center max-w-lg border border-gray-100",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Y,{size:40})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Registration Submitted"}),e.jsx("p",{className:"text-gray-500 mb-8 leading-relaxed",children:"Thank you for partnering with NFSU. Your company profile and initial drive have been submitted. Once approved by the Admin, you can login to manage multiple drives and applicants."}),e.jsx("button",{onClick:()=>s("/"),className:"bg-gray-900 text-white px-8 py-3 rounded-full hover:bg-gray-800 transition font-semibold",children:"Return Home"})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition",children:[e.jsx(ve,{size:18})," Back to Home"]}),e.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-2xl shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"mb-10 text-center md:text-left",children:[e.jsx("span",{className:"text-rose-600 font-bold uppercase tracking-wider text-sm",children:"For Recruiters"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mt-2",children:"Partner Registration"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Create your employer account and post your first drive."})]}),e.jsxs("form",{onSubmit:M,className:"space-y-10",children:[e.jsxs("section",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 mb-6 border-b pb-2",children:[e.jsx(et,{size:20,className:"text-rose-600"}),"Company Details"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.name,onChange:p=>r({...t,name:p.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HR Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.hrName,onChange:p=>r({...t,hrName:p.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HR Email (Login ID)"}),e.jsx("input",{required:!0,type:"email",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.hrEmail,onChange:p=>r({...t,hrEmail:p.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,type:"password",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none pl-10",value:t.password,onChange:p=>r({...t,password:p.target.value})}),e.jsx(Ke,{className:"absolute left-3 top-3 text-gray-400",size:14})]})]})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 mb-6 border-b pb-2",children:[e.jsx(Y,{size:20,className:"text-rose-600"}),"Initial Drive Details"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Offered"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.role,onChange:p=>r({...t,role:p.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CTC / Stipend"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",placeholder:"e.g. 12 LPA",value:t.ctc,onChange:p=>r({...t,ctc:p.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum CGPA"}),e.jsx("input",{required:!0,type:"number",step:"0.1",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.minCgpa,onChange:p=>r({...t,minCgpa:parseFloat(p.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Backlogs Allowed"}),e.jsx("input",{required:!0,type:"number",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.maxBacklogs,onChange:p=>r({...t,maxBacklogs:parseInt(p.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Application Deadline"}),e.jsx("input",{required:!0,type:"date",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.deadline,onChange:p=>r({...t,deadline:p.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Eligible Branches"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:ne.map(p=>{var w;return e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-rose-50 hover:border-rose-200 cursor-pointer transition",children:[e.jsx("input",{type:"checkbox",checked:(w=t.eligibleBranches)==null?void 0:w.includes(p),onChange:()=>y(p),className:"rounded text-rose-600 focus:ring-rose-500 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:p})]},p)})})]})]}),h&&e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl border border-red-100 text-sm font-medium",children:h}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",disabled:d,className:"bg-rose-600 text-white px-10 py-4 rounded-full font-bold hover:bg-rose-700 transition shadow-xl shadow-rose-200 disabled:opacity-70 disabled:cursor-not-allowed",children:d?"Submitting...":"Register & Post Drive"})})]})]})]})},ft=()=>{const s=ce(),[t,r]=n.useState({name:"",email:"",password:"",rollNo:"",course:"M.Sc",branch:ne[0],year:2025,cgpa:0,backlogs:0,skills:[],certifications:[]}),[f,c]=n.useState(""),[h,l]=n.useState(""),[d,x]=n.useState(""),[y,M]=n.useState(""),[p,w]=n.useState(""),[A,D]=n.useState(!1),F=async S=>{var C;if(S.preventDefault(),w(""),D(!0),t.password!==f){w("Passwords do not match."),D(!1);return}if(!((C=t.email)!=null&&C.toLowerCase().endsWith("@nfsu.ac.in"))){w("Student registration is only allowed with official @nfsu.ac.in email address."),D(!1);return}try{const i=(await ye.signUp(t.email,t.password)).user,I={...t,id:i.uid,skills:h.split(",").map(k=>k.trim()).filter(k=>k),certifications:d.split(",").map(k=>k.trim()).filter(k=>k),resumeUrl:y||void 0,resumeFileName:y?"Google Drive Resume":void 0,resumeUploadedAt:y?new Date().toISOString():void 0,isVerified:!1,isBlacklisted:!1};await B.saveStudent(I),alert("Registration Successful!"),s("/login")}catch(g){console.error(g),g.code==="auth/email-already-in-use"?w("Account with this email already exists."):w(g.message||"Failed to save registration data.")}finally{D(!1)}};return e.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4",children:[e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition",children:[e.jsx(ve,{size:18})," Back to Home"]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-900 text-white p-8",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-600 rounded-lg flex items-center justify-center mb-4 text-white",children:e.jsx(st,{size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Student Registration"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Create your official placement profile."})]}),e.jsxs("form",{onSubmit:F,className:"p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-rose-600 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Account Credentials"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:t.name,onChange:S=>r({...t,name:S.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Official Email ID"}),e.jsx("input",{required:!0,type:"email",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:t.email,onChange:S=>r({...t,email:S.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{required:!0,type:"password",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:t.password,onChange:S=>r({...t,password:S.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{required:!0,type:"password",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:f,onChange:S=>c(S.target.value)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-rose-600 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Academic Details"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:t.rollNo,onChange:S=>r({...t,rollNo:S.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),e.jsxs("select",{className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.course,onChange:S=>r({...t,course:S.target.value}),children:[e.jsx("option",{children:"M.Sc"}),e.jsx("option",{children:"B.Tech"}),e.jsx("option",{children:"MBA"}),e.jsx("option",{children:"M.Tech"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),e.jsx("select",{className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.branch,onChange:S=>r({...t,branch:S.target.value}),children:ne.map(S=>e.jsx("option",{children:S},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passing Year"}),e.jsx("input",{required:!0,type:"number",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.year,onChange:S=>r({...t,year:parseInt(S.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CGPA (Current)"}),e.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.cgpa,onChange:S=>r({...t,cgpa:parseFloat(S.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Backlogs"}),e.jsx("input",{required:!0,type:"number",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.backlogs,onChange:S=>r({...t,backlogs:parseInt(S.target.value)||0})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-rose-600 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Professional Profile"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills (Comma separated)"}),e.jsx("input",{type:"text",placeholder:"Python, Java, Forensics, Networking",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:h,onChange:S=>l(S.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications (Comma separated)"}),e.jsx("input",{type:"text",placeholder:"CEH, CISSP, CCNA",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:d,onChange:S=>x(S.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resume link (Google Drive)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:e.jsx(Be,{size:18})}),e.jsx("input",{type:"url",placeholder:"https://drive.google.com/...",className:"w-full border-gray-200 border p-2.5 pl-10 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:y,onChange:S=>M(S.target.value)})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 italic",children:'Make sure the link is set to "Anyone with the link can view"'})]})]})]}),p&&e.jsxs("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 p-3 rounded text-sm font-medium border border-red-100",children:[e.jsx(me,{size:16}),p]}),e.jsx("div",{className:"pt-4 border-t border-gray-100",children:e.jsx("button",{type:"submit",disabled:A,className:"w-full bg-rose-600 text-white py-4 rounded-lg font-bold hover:bg-rose-700 transition shadow-lg shadow-rose-200 text-lg disabled:opacity-70 disabled:cursor-not-allowed",children:A?"Saving Profile...":"Complete Registration"})})]})]})]})},jt=()=>{const[s,t]=n.useState(""),[r,f]=n.useState(""),[c,h]=n.useState(""),l=ce(),d=async x=>{x.preventDefault(),h("");try{const M=(await ye.signIn(s,r)).user,p=await B.getCompany(M.uid);if(p){if(!p.isApproved){h("Company registration is pending approval.");return}const w={id:p.id,name:p.name,email:p.hrEmail,role:_.RECRUITER};sessionStorage.setItem("nfsu_user_session",JSON.stringify(w)),l("/recruiter")}else h("Company profile not found.")}catch(y){console.error(y),h("Invalid credentials or connection error.")}};return e.jsx("div",{className:"min-h-[85vh] bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden max-w-md w-full border border-gray-100 relative",children:[e.jsx("button",{onClick:()=>l("/"),className:"absolute top-4 left-4 p-2 text-gray-400 hover:text-gray-700 transition rounded-full hover:bg-gray-100",children:e.jsx(ve,{size:20})}),e.jsxs("div",{className:"pt-12 pb-8 px-8 text-center border-b border-gray-100 bg-gray-50",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-xl shadow-md flex items-center justify-center mx-auto mb-4 text-rose-600",children:e.jsx(he,{size:32})}),e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900",children:"Employer Login"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Manage drives & view applicants"})]}),e.jsxs("form",{onSubmit:d,className:"p-8 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Work Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"email",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 outline-none transition font-medium",placeholder:"hr@company.com",value:s,onChange:x=>t(x.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"password",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 outline-none transition font-medium",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:r,onChange:x=>f(x.target.value),required:!0})]})]}),c&&e.jsx("div",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-100 font-medium",children:c}),e.jsx("button",{type:"submit",className:"w-full bg-rose-600 text-white py-3.5 rounded-lg font-bold hover:bg-rose-700 transition shadow-lg shadow-rose-200 mt-2",children:"Login to Dashboard"}),e.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:["Not registered? ",e.jsx("span",{onClick:()=>l("/register-company"),className:"text-rose-600 font-bold cursor-pointer hover:underline",children:"Sign up here"})]})]})]})})},Nt=({application:s,drive:t,company:r})=>{const f=l=>{switch(l){case"Cleared":return e.jsx(Y,{size:20,className:"text-green-500"});case"Rejected":return e.jsx(ue,{size:20,className:"text-red-500"});case"Scheduled":return e.jsx(ie,{size:20,className:"text-blue-500"});case"Pending":default:return e.jsx(ys,{size:20,className:"text-slate-400"})}},c=l=>{switch(l){case"Cleared":return"bg-green-100 text-green-700 border-green-200";case"Rejected":return"bg-red-100 text-red-700 border-red-200";case"Scheduled":return"bg-blue-100 text-blue-700 border-blue-200";case"Pending":default:return"bg-slate-100 text-slate-600 border-slate-200"}},h=s.roundStatuses[s.currentRound];return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:t.role}),e.jsx("p",{className:"text-sm text-slate-600",children:r.name})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${c((h==null?void 0:h.status)||"Pending")}`,children:s.status})]}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Applied: ",new Date(s.appliedAt).toLocaleDateString()]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:s.roundStatuses.map((l,d)=>e.jsxs(Te.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${l.status==="Cleared"?"bg-green-500 border-green-500 text-white":l.status==="Rejected"?"bg-red-500 border-red-500 text-white":l.status==="Scheduled"?"bg-blue-500 border-blue-500 text-white":d===s.currentRound?"bg-white border-blue-500 text-blue-500":"bg-white border-slate-300 text-slate-400"}`,children:l.status==="Cleared"?e.jsx(Y,{size:20}):l.status==="Rejected"?e.jsx(ue,{size:20}):e.jsx("span",{className:"text-xs font-bold",children:d+1})}),e.jsx("p",{className:`text-[10px] font-medium mt-2 text-center max-w-[80px] ${d===s.currentRound?"text-blue-600":"text-slate-500"}`,children:l.roundName})]}),d<s.roundStatuses.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 ${l.status==="Cleared"?"bg-green-500":"bg-slate-200"}`})]},d))})}),h&&e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f(h.status),e.jsxs("h4",{className:"font-bold text-slate-900",children:["Current Round: ",h.roundName]})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-slate-600",children:[e.jsx("span",{className:"font-semibold",children:"Status:"})," ",h.status]}),h.scheduledDate&&e.jsxs("p",{className:"text-slate-600",children:[e.jsx("span",{className:"font-semibold",children:"Scheduled:"})," ",new Date(h.scheduledDate).toLocaleString()]}),h.feedback&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:e.jsxs("p",{className:"text-slate-600 flex items-start gap-2",children:[e.jsx(vs,{size:16,className:"mt-0.5 text-slate-400"}),e.jsx("span",{className:"italic",children:h.feedback})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-3",children:"Round History"}),e.jsx("div",{className:"space-y-2",children:s.roundStatuses.map((l,d)=>e.jsxs("div",{className:`border rounded-lg p-3 ${d===s.currentRound?"border-blue-200 bg-blue-50":"border-slate-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[f(l.status),e.jsxs("span",{className:"font-semibold text-sm text-slate-900",children:[d+1,". ",l.roundName]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold border ${c(l.status)}`,children:l.status})]}),l.completedDate&&e.jsxs("p",{className:"text-xs text-slate-500 ml-7",children:["Completed: ",new Date(l.completedDate).toLocaleDateString()]}),l.scheduledDate&&!l.completedDate&&e.jsxs("p",{className:"text-xs text-blue-600 ml-7",children:["Scheduled: ",new Date(l.scheduledDate).toLocaleString()]}),l.feedback&&e.jsxs("p",{className:"text-xs text-slate-600 ml-7 mt-1 italic",children:['"',l.feedback,'"']})]},d))})]}),s.feedback&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-2",children:"Overall Feedback"}),e.jsxs("p",{className:"text-sm text-slate-600 italic bg-slate-50 p-3 rounded-lg",children:['"',s.feedback,'"']})]})]})},vt=()=>{const s=E.getCurrentUser(),t=ce(),[r,f]=n.useState(void 0),[c,h]=n.useState([]),[l,d]=n.useState([]),[x,y]=n.useState("drives"),[M,p]=n.useState(null),[w,A]=n.useState({}),[D,F]=n.useState({});n.useEffect(()=>{(async()=>{if(!s)return;const[i,I,k,q]=await Promise.all([E.getStudents(),E.getCompanies(),E.getDrives(),E.getApplications()]),z=i.find(L=>L.id===s.id);if(f(z),z){const L={};k.forEach(v=>L[v.id]=v),A(L);const O={};I.forEach(v=>O[v.id]=v),F(O);const b=k.map(v=>{const o=I.find(m=>m.id===v.companyId);return o?{...v,companyName:o.name,isCompanyApproved:o.isApproved}:null}).filter(v=>v!==null).filter(v=>v.isCompanyApproved&&v.status==="Open"&&z.cgpa>=v.minCgpa&&z.backlogs<=v.maxBacklogs&&v.eligibleBranches.includes(z.branch)&&new Date(v.deadline)>=new Date);h(b),d(q.filter(v=>v.studentId===z.id))}})()},[s]);const S=async g=>{if(!r)return;const i=g.rounds.map((k,q)=>({roundNumber:q,roundName:k,status:"Pending",updatedAt:new Date().toISOString()})),I={id:`a${Date.now()}`,studentId:r.id,driveId:g.id,status:W.APPLIED,currentRound:0,roundStatuses:i,appliedAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),verified:!0};await E.saveApplication(I),d([...l,I]),alert(`Successfully applied to ${g.role} at ${g.companyName}!`)},C=g=>l.some(i=>i.driveId===g);return r?e.jsxs("div",{className:"space-y-10 font-sans text-slate-900 pb-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"Student Dashboard"}),e.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Manage your placement journey and track applications."})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-6",children:[e.jsxs("button",{onClick:()=>t("/student/profile"),className:"text-right hover:opacity-70 transition-opacity",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Resume Status"}),e.jsx("div",{className:"flex items-center justify-end gap-2 mt-1",children:r.resumeUrl?e.jsxs("span",{className:"flex items-center gap-1.5 font-bold text-sm text-green-700 bg-green-50 px-3 py-1.5 rounded-lg border border-green-100",children:[e.jsx(Oe,{size:14})," Uploaded"]}):e.jsxs("span",{className:"flex items-center gap-1.5 font-bold text-sm text-amber-700 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100",children:[e.jsx(me,{size:14})," Pending"]})})]}),e.jsx("div",{className:"w-px h-8 bg-slate-100"}),e.jsxs("button",{onClick:()=>t("/student/profile"),className:"text-right hover:opacity-70 transition-opacity",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"CGPA"}),e.jsx("span",{className:"font-bold text-slate-900 text-lg",children:r.cgpa})]})]})]}),!r.isVerified&&e.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-5 rounded-2xl flex items-start gap-4 text-amber-900 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center shrink-0",children:e.jsx(tt,{size:20,className:"text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm",children:"Verification Pending"}),e.jsxs("p",{className:"text-xs mt-1 leading-relaxed opacity-90",children:["Your academic profile is under review by the Placement Cell. You can view eligible drives, but you ",e.jsx("strong",{children:"cannot apply"})," until verification is complete."]})]})]}),e.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[e.jsxs("button",{onClick:()=>y("drives"),className:`px-6 py-3 text-sm font-bold transition-all relative ${x==="drives"?"text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:["Open Opportunities ",e.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full text-xs ml-2",children:c.length}),x==="drives"&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-900"})]}),e.jsxs("button",{onClick:()=>y("applications"),className:`px-6 py-3 text-sm font-bold transition-all relative ${x==="applications"?"text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:["My Applications ",e.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full text-xs ml-2",children:l.length}),x==="applications"&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-900"})]})]}),x==="drives"&&e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4",children:c.length===0?e.jsxs("div",{className:"col-span-full py-20 text-center bg-slate-50 rounded-3xl border border-dashed border-slate-200",children:[e.jsx(xe,{className:"mx-auto text-slate-300 mb-4",size:48}),e.jsx("p",{className:"text-slate-500 font-medium",children:"No eligible drives found matching your profile."})]}):c.map(g=>e.jsxs("div",{className:"group bg-white p-6 rounded-2xl border border-slate-100 shadow-[0_2px_10px_rgb(0,0,0,0.02)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all duration-300 relative flex flex-col h-full",children:[!r.isVerified&&e.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[2px] z-10 rounded-2xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"bg-white px-4 py-2 rounded-full shadow-lg border border-slate-100 flex items-center gap-2 text-xs font-bold text-slate-500",children:[e.jsx(Ke,{size:12})," Verification Required"]})}),e.jsx("div",{className:"flex justify-between items-start mb-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-slate-50 to-slate-100 border border-slate-100 flex items-center justify-center text-xl font-bold text-slate-700 shadow-inner shrink-0",children:g.companyName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 group-hover:text-rose-600 transition-colors line-clamp-1",children:g.role}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:g.companyName})]})]})}),e.jsx("div",{className:"mb-6 flex-grow",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-xs font-semibold bg-green-50 text-green-700 px-2 py-1 rounded-md border border-green-100",children:g.ctc}),e.jsxs("span",{className:"text-xs font-semibold bg-slate-50 text-slate-600 px-2 py-1 rounded-md border border-slate-100",children:["Min CGPA: ",g.minCgpa]})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 font-bold uppercase tracking-wider mb-4",children:[e.jsx("span",{children:"Deadline"}),e.jsx("span",{children:g.deadline})]}),C(g.id)?e.jsxs("button",{disabled:!0,className:"w-full bg-green-50 text-green-600 border border-green-100 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 cursor-default",children:[e.jsx(Ae,{size:16})," Applied"]}):e.jsx("button",{onClick:()=>S(g),disabled:!r.isVerified,className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold text-sm hover:bg-slate-800 transition shadow-lg shadow-slate-200 active:scale-95 disabled:opacity-50 disabled:active:scale-100",children:"Apply Now"})]},g.id))}),x==="applications"&&e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-4",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Role & Company"}),e.jsx("th",{className:"p-5",children:"Applied Date"}),e.jsx("th",{className:"p-5",children:"Current Status"}),e.jsx("th",{className:"p-5 text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-10 text-center text-slate-400 font-medium",children:"No applications found."})}):l.map(g=>{const i=w[g.driveId],I=i?D[i.companyId]:void 0;return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:(i==null?void 0:i.role)||"Unknown Role"}),e.jsxs("div",{className:"text-xs text-slate-500 font-medium mt-0.5 flex items-center gap-1",children:[e.jsx(he,{size:12})," ",(I==null?void 0:I.name)||"Unknown Company"]})]}),e.jsx("td",{className:"p-5 text-sm text-slate-500 font-medium",children:g.appliedAt}),e.jsx("td",{className:"p-5",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${g.status===W.SELECTED?"bg-green-100 text-green-700 border-green-200":g.status===W.REJECTED?"bg-red-50 text-red-600 border-red-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:g.status})}),e.jsx("td",{className:"p-5 text-right",children:e.jsxs("button",{onClick:()=>p(g),className:"flex items-center gap-2 text-xs font-bold text-blue-600 hover:text-blue-800 transition ml-auto",children:[e.jsx(Ce,{size:14})," View Progress"]})})]},g.id)})})]})}),M&&(()=>{const g=w[M.driveId],i=g?D[g.companyId]:void 0;return!g||!i?null:e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-50 rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Application Progress"}),e.jsx("button",{onClick:()=>p(null),className:"text-slate-400 hover:text-slate-700 transition",children:"âœ•"})]}),e.jsx(Nt,{application:M,drive:g,company:i})]})})})()]}):e.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading student profile from database..."})},yt=({student:s,applications:t,drives:r,companies:f,onClose:c})=>{const h=()=>{s.resumeUrl&&window.open(s.resumeUrl,"_blank")};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8 transform transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-900 to-slate-700 p-6 rounded-t-2xl text-white",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1",children:s.name}),e.jsx("p",{className:"text-slate-300 text-sm font-medium",children:s.rollNo})]}),e.jsx("button",{onClick:c,className:"text-white/80 hover:text-white transition p-2 hover:bg-white/10 rounded-lg",children:e.jsx(se,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.isVerified?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100",children:[e.jsx(Y,{size:14})," Verified"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-yellow-50 text-yellow-600 border border-yellow-100",children:[e.jsx(ue,{size:14})," Pending Verification"]}),s.isBlacklisted&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100",children:[e.jsx(ue,{size:14})," Blacklisted"]}),s.placedCompanyId&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-blue-50 text-blue-600 border border-blue-100",children:[e.jsx(Y,{size:14})," Placed"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Academic Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ws,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Course & Branch"}),e.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[s.course," - ",s.branch]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ie,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Year"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.year})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ms,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"CGPA"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:(s.cgpa||0).toFixed(2)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ue,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Backlogs"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.backlogs||0})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Contact Information"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ne,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Email"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 break-all",children:s.email})]})]})})]})]}),s.skills&&s.skills.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((l,d)=>e.jsx("span",{className:"px-3 py-1.5 bg-slate-100 text-slate-700 rounded-lg text-xs font-medium",children:l},d))})]}),s.certifications&&s.certifications.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Certifications"}),e.jsx("div",{className:"space-y-2",children:s.certifications.map((l,d)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[e.jsx(ms,{size:14,className:"text-slate-400"}),e.jsx("span",{children:l})]},d))})]}),s.resumeUrl&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Resume"}),e.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-white rounded-lg border border-slate-200",children:e.jsx(Be,{size:24,className:"text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:s.resumeFileName||"Google Drive Resume"}),s.resumeUploadedAt&&e.jsxs("p",{className:"text-xs text-slate-500",children:["Linked: ",new Date(s.resumeUploadedAt).toLocaleDateString()]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg text-xs font-bold hover:bg-slate-800 transition",children:[e.jsx(at,{size:14})," View Link"]})})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Application History"}),t.length===0?e.jsx("p",{className:"text-sm text-slate-500 italic",children:"No applications yet"}):e.jsx("div",{className:"space-y-2",children:t.map(l=>{const d=r.find(y=>y.id===l.driveId),x=f.find(y=>y.id===(d==null?void 0:d.companyId));return e.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900",children:(x==null?void 0:x.name)||"Unknown Company"}),e.jsx("p",{className:"text-sm text-slate-600",children:(d==null?void 0:d.role)||"N/A"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Applied: ",new Date(l.appliedAt).toLocaleDateString()]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${l.status==="Selected"?"bg-green-100 text-green-700":l.status==="Rejected"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:l.status})]})},l.id)})})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-200 bg-slate-50 rounded-b-2xl",children:e.jsx("button",{onClick:c,className:"w-full px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition",children:"Close"})})]})})},wt=({company:s,drives:t,allApplications:r,students:f,onClose:c})=>{const h=r.filter(l=>t.some(d=>d.id===l.driveId));return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8 transform transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-blue-700 p-6 rounded-t-2xl text-white",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:e.jsx(he,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1",children:s.name}),e.jsx("p",{className:"text-blue-200 text-sm font-medium",children:"Company Profile"})]})]}),e.jsx("button",{onClick:c,className:"text-white/80 hover:text-white transition p-2 hover:bg-white/10 rounded-lg",children:e.jsx(se,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:s.isApproved?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100",children:[e.jsx(Y,{size:14})," Approved"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-yellow-50 text-yellow-600 border border-yellow-100",children:[e.jsx(ue,{size:14})," Pending Approval"]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Company Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Company Name"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.name})]})]}),s.description&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(xe,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Description"}),e.jsx("p",{className:"text-sm text-slate-700",children:s.description})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"HR Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ue,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"HR Name"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.hrName})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ne,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"HR Email"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 break-all",children:s.hrEmail})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.length}),e.jsx("p",{className:"text-xs text-blue-700 font-medium mt-1",children:"Total Drives"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.length}),e.jsx("p",{className:"text-xs text-green-700 font-medium mt-1",children:"Applications"})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-100 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:h.filter(l=>l.status==="Selected").length}),e.jsx("p",{className:"text-xs text-purple-700 font-medium mt-1",children:"Selected"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Placement Drives"}),t.length===0?e.jsx("p",{className:"text-sm text-slate-500 italic",children:"No drives created yet"}):e.jsx("div",{className:"space-y-3",children:t.map(l=>{const d=r.filter(x=>x.driveId===l.id);return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:l.role}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:l.description})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${l.status==="Open"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:l.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ss,{size:16,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"CTC"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:l.ctc})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{size:16,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Deadline"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:l.deadline})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ks,{size:16,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Applications"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:d.length})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{size:16,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Min CGPA"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:l.minCgpa})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Eligible Branches:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:l.eligibleBranches.map((x,y)=>e.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 rounded text-xs font-medium text-slate-700",children:x},y))})]}),l.rounds&&l.rounds.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Selection Rounds:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:l.rounds.map((x,y)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 border border-blue-100 rounded text-xs font-medium text-blue-700",children:x},y))})]})]},l.id)})})]}),h.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Recent Applications"}),e.jsxs("div",{className:"space-y-2",children:[t.flatMap(l=>r.filter(d=>d.driveId===l.id)).slice(0,5).map(l=>{const d=f.find(y=>y.id===l.studentId),x=t.find(y=>y.id===l.driveId);return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:(d==null?void 0:d.name)||"Unknown"}),e.jsxs("p",{className:"text-xs text-slate-500",children:[x==null?void 0:x.role," â€¢ Applied: ",new Date(l.appliedAt).toLocaleDateString()]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${l.status==="Selected"?"bg-green-100 text-green-700":l.status==="Rejected"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:l.status})]},l.id)}),h.length>5&&e.jsxs("p",{className:"text-xs text-slate-500 text-center italic",children:["+",h.length-5," more applications"]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex flex-col md:flex-row gap-4",children:[e.jsxs("a",{href:`mailto:?bcc=${f.map(l=>l.email).join(",")}&subject=Company%20Registered%3A%20${encodeURIComponent(s.name)}&body=Hello%20Students%2C%0A%0AWe%20are%20happy%20to%20announce%20that%20${encodeURIComponent(s.name)}%20has%20registered%20with%20us.`,className:"mail-btn flex-1 px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition flex items-center justify-center gap-2 shadow-lg shadow-indigo-200",children:[e.jsx(Ne,{size:20}),"Announce Registration"]}),e.jsx("button",{onClick:c,className:"flex-1 px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition shadow-lg shadow-slate-200",children:"Close"})]})]})})},St=({notices:s,events:t,onUpdate:r})=>{const[f,c]=n.useState(!1),[h,l]=n.useState(!1),[d,x]=n.useState(null),[y,M]=n.useState(null),[p,w]=n.useState({title:"",description:"",isActive:!0}),[A,D]=n.useState({title:"",description:"",date:"",isActive:!0}),F=async i=>{i.preventDefault();const I={id:(d==null?void 0:d.id)||`notice_${Date.now()}`,title:p.title,description:p.description,postedAt:(d==null?void 0:d.postedAt)||new Date().toISOString(),postedBy:"Admin",isActive:p.isActive};await E.saveNotice(I),c(!1),w({title:"",description:"",isActive:!0}),x(null),r()},S=async i=>{i.preventDefault();const I=new Date(A.date),k={id:(y==null?void 0:y.id)||`event_${Date.now()}`,title:A.title,description:A.description,date:A.date,month:I.toLocaleDateString("en-US",{month:"short"}),day:I.getDate().toString().padStart(2,"0"),postedAt:(y==null?void 0:y.postedAt)||new Date().toISOString(),postedBy:"Admin",isActive:A.isActive};await E.saveEvent(k),l(!1),D({title:"",description:"",date:"",isActive:!0}),M(null),r()},C=i=>{i?(x(i),w({title:i.title,description:i.description,isActive:i.isActive})):(x(null),w({title:"",description:"",isActive:!0})),c(!0)},g=i=>{i?(M(i),D({title:i.title,description:i.description,date:i.date,isActive:i.isActive})):(M(null),D({title:"",description:"",date:"",isActive:!0})),l(!0)};return e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-50 rounded-xl flex items-center justify-center text-rose-600",children:e.jsx(js,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Notices"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Manage placement notices"})]})]}),e.jsxs("button",{onClick:()=>C(),className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition",children:[e.jsx(Fe,{size:16})," Add Notice"]})]}),e.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:s.length===0?e.jsx("p",{className:"text-center text-slate-400 py-8 italic",children:"No notices posted yet"}):s.map(i=>e.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 hover:border-slate-300 transition",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:i.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${i.isActive?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:i.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>C(i),className:"p-1.5 hover:bg-slate-100 rounded transition",title:"Edit",children:e.jsx(us,{size:14,className:"text-slate-600"})}),e.jsx("button",{onClick:async()=>{confirm("Delete this notice?")&&(await E.deleteNotice(i.id),r())},className:"p-1.5 hover:bg-red-50 rounded transition",title:"Delete",children:e.jsx(je,{size:14,className:"text-red-600"})})]})]}),e.jsx("p",{className:"text-xs text-slate-600 mb-2",children:i.description}),e.jsxs("p",{className:"text-[10px] text-slate-400",children:["Posted: ",new Date(i.postedAt).toLocaleDateString()]})]},i.id))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600",children:e.jsx(ie,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Events"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Manage upcoming events"})]})]}),e.jsxs("button",{onClick:()=>g(),className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition",children:[e.jsx(Fe,{size:16})," Add Event"]})]}),e.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:t.length===0?e.jsx("p",{className:"text-center text-slate-400 py-8 italic",children:"No events scheduled yet"}):t.map(i=>e.jsx("div",{className:"border border-slate-200 rounded-xl p-4 hover:border-slate-300 transition",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 min-w-[50px] text-center border border-slate-100",children:[e.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:i.month}),e.jsx("span",{className:"block text-lg font-bold text-slate-900",children:i.day})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:i.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${i.isActive?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:i.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>g(i),className:"p-1.5 hover:bg-slate-100 rounded transition",title:"Edit",children:e.jsx(us,{size:14,className:"text-slate-600"})}),e.jsx("button",{onClick:async()=>{confirm("Delete this event?")&&r()},className:"p-1.5 hover:bg-red-50 rounded transition",title:"Delete",children:e.jsx(je,{size:14,className:"text-red-600"})})]})]}),e.jsx("p",{className:"text-xs text-slate-600 mb-1",children:i.description}),e.jsxs("p",{className:"text-[10px] text-slate-400",children:["Date: ",new Date(i.date).toLocaleDateString()]})]})]})},i.id))})]})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:d?"Edit Notice":"Add Notice"}),e.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(se,{size:24})})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Title"}),e.jsx("input",{required:!0,type:"text",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none",value:p.title,onChange:i=>w({...p,title:i.target.value}),placeholder:"e.g., Placement Drive 2025"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description"}),e.jsx("textarea",{required:!0,className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none h-24",value:p.description,onChange:i=>w({...p,description:i.target.value}),placeholder:"Enter notice details..."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"noticeActive",checked:p.isActive,onChange:i=>w({...p,isActive:i.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"noticeActive",className:"text-sm font-medium text-slate-700",children:"Show on landing page"})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition",children:d?"Update Notice":"Create Notice"})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:y?"Edit Event":"Add Event"}),e.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(se,{size:24})})]}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Event Title"}),e.jsx("input",{required:!0,type:"text",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none",value:A.title,onChange:i=>D({...A,title:i.target.value}),placeholder:"e.g., Registration Opens"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description"}),e.jsx("input",{required:!0,type:"text",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none",value:A.description,onChange:i=>D({...A,description:i.target.value}),placeholder:"e.g., Batch 2025 (M.Sc & B.Tech)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Event Date"}),e.jsx("input",{required:!0,type:"date",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none",value:A.date,onChange:i=>D({...A,date:i.target.value})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"eventActive",checked:A.isActive,onChange:i=>D({...A,isActive:i.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"eventActive",className:"text-sm font-medium text-slate-700",children:"Show on landing page"})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition",children:y?"Update Event":"Create Event"})]})]})})]})},kt=({application:s,student:t,drive:r,company:f,onUpdate:c,onClose:h})=>{var g,i,I;const[l,d]=n.useState(s.currentRound),[x,y]=n.useState(((g=s.roundStatuses[l])==null?void 0:g.status)||"Pending"),[M,p]=n.useState(((i=s.roundStatuses[l])==null?void 0:i.scheduledDate)||""),[w,A]=n.useState(((I=s.roundStatuses[l])==null?void 0:I.feedback)||""),[D,F]=n.useState(s.feedback||""),S=async()=>{const k=[...s.roundStatuses],q=k[l];k[l]={...q,status:x,scheduledDate:M||void 0,completedDate:x==="Cleared"||x==="Rejected"?new Date().toISOString():void 0,feedback:w||void 0,updatedBy:"Admin",updatedAt:new Date().toISOString()};let z=s.status,L=s.currentRound;x==="Cleared"?l<s.roundStatuses.length-1?(L=l+1,z=W.SHORTLISTED):z=W.SELECTED:x==="Rejected"&&(z=W.REJECTED);const O={...s,roundStatuses:k,currentRound:L,status:z,lastUpdated:new Date().toISOString(),feedback:D||void 0};await E.saveApplication(O),c(),alert("Application status updated successfully!")},C=s.roundStatuses[l];return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 rounded-t-2xl",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Manage Application"}),e.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[t.name," (",t.rollNo,") - ",r.role," at ",f.name]})]}),e.jsx("button",{onClick:h,className:"text-slate-400 hover:text-slate-700 transition",children:e.jsx(se,{size:24})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"CGPA:"}),e.jsx("span",{className:"ml-2 font-bold text-slate-900",children:t.cgpa})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Branch:"}),e.jsx("span",{className:"ml-2 font-bold text-slate-900",children:t.branch})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Applied:"}),e.jsx("span",{className:"ml-2 font-bold text-slate-900",children:new Date(s.appliedAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Select Round to Update"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.roundStatuses.map((k,q)=>e.jsxs("button",{onClick:()=>{d(q),y(k.status),p(k.scheduledDate||""),A(k.feedback||"")},className:`p-4 rounded-xl border-2 text-left transition-all ${l===q?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-bold text-slate-900",children:[q+1,". ",k.roundName]}),k.status==="Cleared"&&e.jsx(Y,{size:16,className:"text-green-500"}),k.status==="Rejected"&&e.jsx(ue,{size:16,className:"text-red-500"}),k.status==="Scheduled"&&e.jsx(ie,{size:16,className:"text-blue-500"}),k.status==="Pending"&&e.jsx(ys,{size:16,className:"text-slate-400"})]}),e.jsx("span",{className:`text-xs font-semibold ${k.status==="Cleared"?"text-green-600":k.status==="Rejected"?"text-red-600":k.status==="Scheduled"?"text-blue-600":"text-slate-500"}`,children:k.status})]},q))})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-3",children:["Updating: ",C.roundName]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Round Status"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Pending","Scheduled","Cleared","Rejected"].map(k=>e.jsx("button",{onClick:()=>y(k),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${x===k?k==="Cleared"?"bg-green-500 text-white":k==="Rejected"?"bg-red-500 text-white":k==="Scheduled"?"bg-blue-500 text-white":"bg-slate-700 text-white":"bg-white border border-slate-300 text-slate-700 hover:border-slate-400"}`,children:k},k))})]}),(x==="Scheduled"||x==="Pending")&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[e.jsx(ie,{size:16,className:"inline mr-2"}),"Schedule Date & Time"]}),e.jsx("input",{type:"datetime-local",value:M?new Date(M).toISOString().slice(0,16):"",onChange:k=>p(k.target.value?new Date(k.target.value).toISOString():""),className:"w-full border border-slate-300 p-3 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[e.jsx(vs,{size:16,className:"inline mr-2"}),"Feedback for this Round"]}),e.jsx("textarea",{value:w,onChange:k=>A(k.target.value),placeholder:"Add feedback for the candidate...",className:"w-full border border-slate-300 p-3 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 outline-none h-24 resize-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Overall Application Feedback"}),e.jsx("textarea",{value:D,onChange:k=>F(k.target.value),placeholder:"Add overall feedback for the entire application...",className:"w-full border border-slate-300 p-3 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 outline-none h-20 resize-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[e.jsxs("button",{onClick:S,className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition flex items-center justify-center gap-2",children:[e.jsx(lt,{size:20}),"Update Application Status"]}),e.jsx("button",{onClick:h,className:"px-6 py-3 border border-slate-300 rounded-xl font-bold text-slate-700 hover:bg-slate-50 transition",children:"Cancel"})]})]})]})})},Le={generate:()=>{const s=Math.floor(1e3+Math.random()*9e3),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=t.charAt(Math.floor(Math.random()*t.length)),f=t.charAt(Math.floor(Math.random()*t.length));return`NFSU${s}${r}${f}`},generateBatch:s=>{const t=new Set;for(;t.size<s;)t.add(Le.generate());return Array.from(t)},isStrong:s=>s.length>=8&&/[A-Z]/.test(s)&&/[a-z]/.test(s)&&/[0-9]/.test(s)},Ct=({onClose:s,onImportComplete:t})=>{const[r,f]=n.useState(1),[c,h]=n.useState(null),[l,d]=n.useState([]),[x,y]=n.useState([]),[M,p]=n.useState([]),[w,A]=n.useState(!0),[D,F]=n.useState(!1),[S,C]=n.useState(!1),g=[{value:"name",label:"Name *"},{value:"email",label:"Email *"},{value:"rollNo",label:"Roll Number *"},{value:"course",label:"Course *"},{value:"branch",label:"Branch *"},{value:"year",label:"Year *"},{value:"cgpa",label:"CGPA *"},{value:"backlogs",label:"Backlogs"},{value:"phone",label:"Phone"},{value:"dateOfBirth",label:"Date of Birth"},{value:"gender",label:"Gender"},{value:"address",label:"Address"},{value:"city",label:"City"},{value:"state",label:"State"},{value:"pincode",label:"Pincode"},{value:"tenthMarks",label:"10th Marks"},{value:"twelfthMarks",label:"12th Marks"},{value:"diplomaMarks",label:"Diploma Marks"},{value:"graduationMarks",label:"Graduation Marks"},{value:"skills",label:"Skills (comma-separated)"},{value:"certifications",label:"Certifications (comma-separated)"},{value:"languages",label:"Languages (comma-separated)"},{value:"projects",label:"Projects (comma-separated)"},{value:"internships",label:"Internships (comma-separated)"},{value:"achievements",label:"Achievements (comma-separated)"},{value:"linkedinUrl",label:"LinkedIn URL"},{value:"githubUrl",label:"GitHub URL"},{value:"portfolioUrl",label:"Portfolio URL"},{value:"ignore",label:"-- Ignore this column --"},{value:"custom",label:"-- Store as Custom Field --"}],i=z=>{var b;const L=(b=z.target.files)==null?void 0:b[0];if(!L)return;h(L);const O=new FileReader;O.onload=v=>{var m;const o=(m=v.target)==null?void 0:m.result;I(o)},O.readAsText(L)},I=z=>{const L=z.replace(/^\uFEFF/,""),O=U=>{const j=[];let N="",P=!1;for(let V=0;V<U.length;V++){const R=U[V];R==='"'?P=!P:R===","&&!P?(j.push(N.trim()),N=""):N+=R}return j.push(N.trim()),j.map(V=>V.replace(/^"|"$/g,"").trim())},b=L.split(/\r?\n/).filter(U=>U.trim());if(b.length===0)return;const v=O(b[0]);d(v);const o=[];for(let U=1;U<b.length;U++){const j=O(b[U]);if(j.length===0)continue;const N={};v.forEach((P,V)=>{N[P]=j[V]||""}),Object.values(N).some(P=>P.trim()!=="")&&o.push(N)}y(o);const m=v.map(U=>{const j=U.toLowerCase();let N="ignore";return j.includes("name")&&!j.includes("company")?N="name":j.includes("email")?N="email":j.includes("roll")?N="rollNo":j.includes("course")?N="course":j.includes("branch")||j.includes("department")?N="branch":j.includes("year")?N="year":j.includes("cgpa")||j.includes("gpa")?N="cgpa":j.includes("backlog")?N="backlogs":j.includes("phone")||j.includes("mobile")?N="phone":j.includes("dob")||j.includes("birth")?N="dateOfBirth":j.includes("gender")||j.includes("sex")?N="gender":j.includes("address")?N="address":j.includes("city")?N="city":j.includes("state")?N="state":j.includes("pin")?N="pincode":j.includes("10th")||j.includes("tenth")?N="tenthMarks":j.includes("12th")||j.includes("twelfth")?N="twelfthMarks":j.includes("skill")?N="skills":j.includes("certif")?N="certifications":j.includes("language")?N="languages":j.includes("project")?N="projects":j.includes("intern")?N="internships":j.includes("achieve")?N="achievements":j.includes("linkedin")?N="linkedinUrl":j.includes("github")?N="githubUrl":j.includes("portfolio")?N="portfolioUrl":N="custom",{csvColumn:U,studentField:N}});p(m),f(2)},k=(z,L)=>{p(O=>O.map(b=>b.csvColumn===z?{...b,studentField:L}:b))},q=async()=>{C(!0);try{const z=[],L=[];if(x.forEach((O,b)=>{const v={id:`s${Date.now()}_${b}`,password:w?Le.generate():"nfsu_123",isVerified:D,isBlacklisted:!1,skills:[],certifications:[],customFields:{},course:"",year:new Date().getFullYear(),backlogs:0};if(M.forEach(o=>{var U;const m=(U=O[o.csvColumn])==null?void 0:U.toString().trim();!m||o.studentField==="ignore"||(o.studentField==="custom"?v.customFields[o.csvColumn]=m:["skills","certifications","languages","projects","internships","achievements"].includes(o.studentField)?v[o.studentField]=m.split(/[;,]/).map(j=>j.trim()).filter(j=>j):["year","backlogs","tenthMarks","twelfthMarks","diplomaMarks","graduationMarks"].includes(o.studentField)?v[o.studentField]=parseFloat(m.replace(/[^0-9.]/g,""))||0:o.studentField==="cgpa"?v[o.studentField]=parseFloat(m.replace(/[^0-9.]/g,""))||0:v[o.studentField]=m)}),v.name&&v.email&&v.rollNo){if(!v.email.toLowerCase().endsWith("@nfsu.ac.in")){L.push(b+1);return}v.branch||(v.branch="General"),v.course||(v.course="M.Sc"),z.push(v)}else Object.values(O).some(m=>m&&m.toString().trim()!=="")&&L.push(b+1)}),z.length===0){alert("No valid students found. Please verify that Name, Email, and Roll Number columns are correctly mapped and contain data."),C(!1);return}if(L.length>0&&!window.confirm(`${L.length} row(s) were skipped because they missed critical information (Name, Email, or Roll Number). 

Import the remaining ${z.length} student(s)?`)){C(!1);return}await E.importStudents(z),C(!1),f(3)}catch(z){console.error("Import error:",z),alert("Error during import process. Please check your data format."),C(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 rounded-t-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Smart CSV Import Wizard"}),e.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Step ",r," of 3: ",r===1?"Upload File":r===2?"Map Columns":"Complete"]})]}),e.jsx("button",{onClick:s,className:"text-slate-400 hover:text-slate-700 transition",children:e.jsx(se,{size:24})})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:[1,2,3].map(z=>e.jsx("div",{className:`flex-1 h-1.5 rounded-full transition-all ${z<=r?"bg-blue-500":"bg-slate-200"}`},z))})]}),e.jsxs("div",{className:"p-6",children:[r===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Cs,{className:"mx-auto text-slate-300 mb-4",size:64}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Upload CSV or Excel File"}),e.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Import student data from any CSV file, including Google Forms exports"}),e.jsxs("label",{className:"inline-block px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition cursor-pointer",children:[e.jsx("input",{type:"file",accept:".csv",onChange:i,className:"hidden"}),"Choose CSV File"]}),c&&e.jsxs("div",{className:"mt-4 text-sm text-green-600 font-semibold",children:["âœ“ ",c.name," (",x.length," rows detected)"]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(me,{size:16}),"CSV Format Tips"]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 ml-6 list-disc",children:[e.jsx("li",{children:"First row should contain column headers"}),e.jsxs("li",{children:[e.jsx("strong",{children:"Required fields:"})," Name, Email, Roll Number (only these 3!)"]}),e.jsx("li",{children:"Optional fields will use defaults: Course (M.Sc), Year (current), CGPA (0), Branch (General)"}),e.jsx("li",{children:"Use comma-separated values for skills, certifications, etc."}),e.jsx("li",{children:"Extra columns will be stored automatically in custom fields"})]})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Sample CSV Format:"}),e.jsx("pre",{className:"text-xs text-slate-600 overflow-x-auto",children:`Name,Email,Roll No,Course,Branch,Year,CGPA,Phone,Skills
Rajesh Kumar,rajesh@nfsu.ac.in,NFSU201,M.Sc,Forensic Science,2,8.5,9876543210,"Python,Java,React"
Anita Desai,anita@nfsu.ac.in,NFSU202,B.Tech,Cyber Security,3,9.0,9876543211,"JavaScript,SQL,AWS"`})]})]}),r===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-2",children:"Map Your Columns"}),e.jsxs("p",{className:"text-sm text-slate-600",children:["We've auto-detected ",l.length," columns and suggested mappings. Review and adjust as needed."]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:M.map((z,L)=>{var O;return e.jsxs("div",{className:"flex items-center gap-4 bg-white border border-slate-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-bold text-slate-900",children:z.csvColumn}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Sample: ",((O=x[0])==null?void 0:O[z.csvColumn])||"N/A"]})]}),e.jsx(Ns,{size:20,className:"text-slate-400"}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{value:z.studentField,onChange:b=>k(z.csvColumn,b.target.value),className:"w-full border border-slate-300 rounded-lg p-2 text-sm font-semibold",children:g.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))})})]},L)})}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4 space-y-3",children:[e.jsx("h4",{className:"font-bold text-slate-900",children:"Import Options"}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:z=>A(z.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Auto-generate secure passwords"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D,onChange:z=>F(z.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Mark all students as verified"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(1),className:"px-6 py-3 border border-slate-300 rounded-xl font-bold text-slate-700 hover:bg-slate-50 transition",children:"Back"}),e.jsx("button",{onClick:q,disabled:S,className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition disabled:opacity-50",children:S?"Importing...":`Import ${x.length} Students`})]})]}),r===3&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Y,{className:"mx-auto text-green-500 mb-4",size:64}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Import Successful!"}),e.jsxs("p",{className:"text-slate-600 mb-6",children:[x.length," students have been imported successfully"]}),e.jsx("button",{onClick:()=>{t(),s()},className:"px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition",children:"Done"})]})]})]})})},At=({students:s,onClose:t})=>{const r=[{key:"name",label:"Name",category:"Core",selected:!0},{key:"email",label:"Email",category:"Core",selected:!0},{key:"rollNo",label:"Roll Number",category:"Core",selected:!0},{key:"phone",label:"Phone",category:"Core",selected:!1},{key:"dateOfBirth",label:"Date of Birth",category:"Core",selected:!1},{key:"gender",label:"Gender",category:"Core",selected:!1},{key:"course",label:"Course",category:"Academic",selected:!0},{key:"branch",label:"Branch",category:"Academic",selected:!0},{key:"year",label:"Year",category:"Academic",selected:!0},{key:"cgpa",label:"CGPA",category:"Academic",selected:!0},{key:"backlogs",label:"Backlogs",category:"Academic",selected:!0},{key:"tenthMarks",label:"10th Marks",category:"Academic",selected:!1},{key:"twelfthMarks",label:"12th Marks",category:"Academic",selected:!1},{key:"diplomaMarks",label:"Diploma Marks",category:"Academic",selected:!1},{key:"graduationMarks",label:"Graduation Marks",category:"Academic",selected:!1},{key:"address",label:"Address",category:"Contact",selected:!1},{key:"city",label:"City",category:"Contact",selected:!1},{key:"state",label:"State",category:"Contact",selected:!1},{key:"pincode",label:"Pincode",category:"Contact",selected:!1},{key:"skills",label:"Skills",category:"Professional",selected:!1},{key:"certifications",label:"Certifications",category:"Professional",selected:!1},{key:"languages",label:"Languages",category:"Professional",selected:!1},{key:"projects",label:"Projects",category:"Professional",selected:!1},{key:"internships",label:"Internships",category:"Professional",selected:!1},{key:"achievements",label:"Achievements",category:"Professional",selected:!1},{key:"linkedinUrl",label:"LinkedIn URL",category:"Links",selected:!1},{key:"githubUrl",label:"GitHub URL",category:"Links",selected:!1},{key:"portfolioUrl",label:"Portfolio URL",category:"Links",selected:!1},{key:"resumeUrl",label:"Resume URL",category:"Links",selected:!1},{key:"isVerified",label:"Verified Status",category:"Status",selected:!1},{key:"placedCompanyId",label:"Placed Company",category:"Status",selected:!1}],[f,c]=n.useState(r),[h,l]=n.useState("excel"),[d,x]=n.useState("all"),[y,M]=n.useState("0"),[p,w]=n.useState("10"),[A,D]=n.useState(!1),[F,S]=n.useState(!1),C=b=>{c(v=>v.map(o=>o.key===b?{...o,selected:!o.selected}:o))},g=b=>{const o=f.filter(m=>m.category===b).every(m=>m.selected);c(m=>m.map(U=>U.category===b?{...U,selected:!o}:U))},i=()=>{c(b=>b.map(v=>({...v,selected:!0})))},I=()=>{c(b=>b.map(v=>({...v,selected:!1})))},k=s.filter(b=>!(d!=="all"&&b.branch!==d||b.cgpa<parseFloat(y)||b.backlogs>parseInt(p)||A&&!b.isVerified||F&&!b.placedCompanyId)),q=()=>{const b=f.filter(v=>v.selected);if(b.length===0){alert("Please select at least one column to export");return}h==="csv"?z(k,b):L(k,b)},z=(b,v)=>{const o=v.map(V=>V.label).join(","),m=b.map(V=>v.map(R=>{const T=V[R.key];return Array.isArray(T)?`"${T.join(", ")}"`:typeof T=="boolean"?T?"Yes":"No":typeof T=="string"&&T.includes(",")?`"${T}"`:T||""}).join(",")),U=[o,...m].join(`
`),j=new Blob([U],{type:"text/csv"}),N=window.URL.createObjectURL(j),P=document.createElement("a");P.href=N,P.download=`students_export_${new Date().toISOString().split("T")[0]}.csv`,P.click(),window.URL.revokeObjectURL(N)},L=(b,v)=>{const o=v.map(V=>`<th style="background: #1e293b; color: white; padding: 12px; font-weight: bold; border: 1px solid #cbd5e1;">${V.label}</th>`).join(""),m=b.map(V=>`<tr>${v.map(T=>{const G=V[T.key];return Array.isArray(G)?`<td style="padding: 8px; border: 1px solid #cbd5e1;">${G.join(", ")}</td>`:typeof G=="boolean"?`<td style="padding: 8px; border: 1px solid #cbd5e1;">${G?"Yes":"No"}</td>`:`<td style="padding: 8px; border: 1px solid #cbd5e1;">${G||""}</td>`}).join("")}</tr>`).join(""),U=`
            <html>
                <head>
                    <meta charset="utf-8">
                    <style>
                        table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }
                        th, td { text-align: left; }
                    </style>
                </head>
                <body>
                    <h2>Student Database Export</h2>
                    <p>Generated on: ${new Date().toLocaleString()}</p>
                    <p>Total Students: ${b.length}</p>
                    <table>
                        <thead><tr>${o}</tr></thead>
                        <tbody>${m}</tbody>
                    </table>
                </body>
            </html>
        `,j=new Blob([U],{type:"application/vnd.ms-excel"}),N=window.URL.createObjectURL(j),P=document.createElement("a");P.href=N,P.download=`students_export_${new Date().toISOString().split("T")[0]}.xls`,P.click(),window.URL.revokeObjectURL(N)},O=Array.from(new Set(f.map(b=>b.category)));return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Export Student Database"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Select columns and apply filters to export student data"})]}),e.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-700 transition",children:e.jsx(se,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ye,{size:20,className:"text-slate-600"}),e.jsx("h3",{className:"font-bold text-slate-900",children:"Filters"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-2",children:"Branch"}),e.jsxs("select",{value:d,onChange:b=>x(b.target.value),className:"w-full border border-slate-300 rounded-lg p-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Branches"}),ne.map(b=>e.jsx("option",{value:b,children:b},b))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-2",children:"Min CGPA"}),e.jsx("input",{type:"number",step:"0.1",value:y,onChange:b=>M(b.target.value),className:"w-full border border-slate-300 rounded-lg p-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-2",children:"Max Backlogs"}),e.jsx("input",{type:"number",value:p,onChange:b=>w(b.target.value),className:"w-full border border-slate-300 rounded-lg p-2 text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:A,onChange:b=>D(b.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-xs text-slate-700",children:"Verified Only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:F,onChange:b=>S(b.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-xs text-slate-700",children:"Placed Only"})]})]})]}),e.jsxs("div",{className:"mt-4 text-sm font-semibold text-slate-700",children:["Filtered Results: ",e.jsx("span",{className:"text-blue-600",children:k.length})," students"]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-slate-900",children:"Select Columns to Export"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:i,className:"px-3 py-1 text-xs font-bold text-blue-600 hover:bg-blue-50 rounded-lg transition",children:"Select All"}),e.jsx("button",{onClick:I,className:"px-3 py-1 text-xs font-bold text-slate-600 hover:bg-slate-50 rounded-lg transition",children:"Deselect All"})]})]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:O.map(b=>{const v=f.filter(m=>m.category===b),o=v.filter(m=>m.selected).length;return e.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[e.jsxs("button",{onClick:()=>g(b),className:"flex items-center justify-between w-full mb-2",children:[e.jsx("span",{className:"font-bold text-slate-900",children:b}),e.jsxs("span",{className:"text-xs text-slate-500",children:[o,"/",v.length," selected"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:v.map(m=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 p-2 rounded transition",children:[e.jsx("input",{type:"checkbox",checked:m.selected,onChange:()=>C(m.key),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-slate-700",children:m.label})]},m.key))})]},b)})})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-3",children:"Export Format"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"excel",checked:h==="excel",onChange:b=>l(b.target.value),className:"w-4 h-4"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{size:20,className:"text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Excel (.xls)"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"csv",checked:h==="csv",onChange:b=>l(b.target.value),className:"w-4 h-4"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{size:20,className:"text-blue-600"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"CSV (.csv)"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:t,className:"px-6 py-3 border border-slate-300 rounded-xl font-bold text-slate-700 hover:bg-slate-50 transition",children:"Cancel"}),e.jsxs("button",{onClick:q,className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition flex items-center justify-center gap-2",children:[e.jsx(Xe,{size:20}),"Export ",k.length," Students as ",h.toUpperCase()]})]})]})]})})},gs=()=>{const[s,t]=n.useState([]),[r,f]=n.useState([]),[c,h]=n.useState([]),[l,d]=n.useState([]),[x,y]=n.useState({}),[M,p]=n.useState({}),[w,A]=n.useState({}),[D,F]=n.useState("students"),[S,C]=n.useState(null),[g,i]=n.useState([]),[I,k]=n.useState([]),[q,z]=n.useState(!1),[L,O]=n.useState(!1),[b,v]=n.useState(null),[o,m]=n.useState(null),[U,j]=n.useState(!1),[N,P]=n.useState({name:"",email:"",password:"password123",rollNo:"",course:"M.Sc",branch:ne[0],year:2024,cgpa:0,backlogs:0}),[V,R]=n.useState(""),[T,G]=n.useState(!1),[pe,De]=n.useState(""),[Ve,Ds]=n.useState(""),[Ge,we]=n.useState(null),[_e,qe]=n.useState(null),[Es,He]=n.useState(!1),[zs,Qe]=n.useState(!1),[H,te]=n.useState(new Set),ee=async()=>{const[a,u,$,Q,Z,ae]=await Promise.all([E.getStudents(),E.getCompanies(),E.getApplications(),E.getDrives(),E.getNotices(),E.getEvents()]);t(a),f(u),h($),d(Q),i(Z),k(ae),console.log("Fetched Admin Data:",{students:a.length,companies:u.length,pendingCompanies:u.filter(X=>!X.isApproved).length,applications:$.length,drives:Q.length});const le={};a.forEach(X=>le[X.id]=X),y(le);const ke={};Q.forEach(X=>ke[X.id]=X),p(ke);const Re={};u.forEach(X=>Re[X.id]=X),A(Re)};n.useEffect(()=>{ee(),te(new Set)},[D]);const Se=s.filter(a=>!a.isVerified),Ee=r.filter(a=>!a.isApproved),Ze=a=>{const u=new Set(H);u.has(a)?u.delete(a):u.add(a),te(u)},es=a=>{H.size===a.length?te(new Set):te(new Set(a.map(u=>u.id)))},ss=async()=>{window.confirm(`Are you sure you want to permanently delete ${H.size} selected students?`)&&(await E.bulkDeleteStudents(Array.from(H)),await ee(),te(new Set))},ts=async a=>{window.confirm(`Are you sure you want to ${a?"blacklist":"unblock"} ${H.size} selected students?`)&&(await E.bulkBlacklistStudents(Array.from(H),a),await ee(),te(new Set))},Rs=async()=>{window.confirm(`Are you sure you want to verify ${H.size} selected students?`)&&(await E.bulkVerifyStudents(Array.from(H)),await ee(),te(new Set))},as=async(a,u)=>{window.confirm(`Are you absolutely sure you want to completely remove ${u} from the database? This will also delete all their applications and cannot be undone.`)&&(await E.deleteStudent(a),await ee())},ls=s.reduce((a,u)=>(a[u.branch]=(a[u.branch]||0)+1,a),{});Object.keys(ls).map(a=>({name:a.split(" ").pop(),value:ls[a]}));const rs=c.reduce((a,u)=>(a[u.status]=(a[u.status]||0)+1,a),{});Object.keys(rs).map(a=>({name:a,value:rs[a]}));const ze=s.filter(a=>a.name.toLowerCase().includes(pe.toLowerCase())||a.rollNo.toLowerCase().includes(pe.toLowerCase())),ns=r.filter(a=>a.name.toLowerCase().includes(Ve.toLowerCase())||a.hrName.toLowerCase().includes(Ve.toLowerCase())),Is=async a=>{const u=s.find($=>$.id===a);u&&(u.isBlacklisted=!u.isBlacklisted,await E.saveStudent(u),await ee())},Ps=async a=>{await E.verifyStudent(a),await ee()},is=async a=>{await E.approveCompany(a),f(await E.getCompanies()),alert("Company Approved!")},Ms=async a=>{var $;if(a.preventDefault(),!(($=N.email)!=null&&$.toLowerCase().endsWith("@nfsu.ac.in"))){alert("Error: Student email must be of domain @nfsu.ac.in");return}const u={...N,id:`s${Date.now()}`,skills:[],certifications:[],isVerified:!0,isBlacklisted:!1};await E.saveStudent(u),await ee(),j(!1),P({name:"",email:"",password:"password123",rollNo:"",course:"M.Sc",branch:ne[0],year:2024,cgpa:0,backlogs:0}),alert("Student added successfully!")},Us=a=>{var $;const u=($=a.target.files)==null?void 0:$[0];if(u){const Q=new FileReader;Q.onload=Z=>{var le;const ae=(le=Z.target)==null?void 0:le.result;R(ae)},Q.readAsText(u)}},Bs=async()=>{const a=V.split(`
`),u=[],$=Le.generateBatch(a.length);a.forEach((Q,Z)=>{if(!Q.trim())return;const[ae,le,ke,Re,X]=Q.split(",");if(ae&&le&&ke){if(!le.trim().toLowerCase().endsWith("@nfsu.ac.in"))return;const Fs=$[Z]||Le.generate();u.push({id:`s_imp_${Date.now()}_${Z}`,name:ae.trim(),email:le.trim(),rollNo:ke.trim(),cgpa:parseFloat(Re||"0"),password:Fs,course:"M.Sc",branch:(X==null?void 0:X.trim())||ne[0],year:2024,backlogs:0,skills:[],certifications:[],isVerified:!0,isBlacklisted:!1})}}),await E.importStudents(u),t(await E.getStudents()),G(!1),R(""),alert(`Successfully imported ${u.length} students!`)};return e.jsxs("div",{className:"space-y-10 pb-10 font-sans text-slate-900",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Admin Console"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Placement Management System"})]}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl overflow-x-auto",children:[{id:"students",label:"Students"},{id:"companies",label:"Companies",count:Ee.length},{id:"approvals",label:"Approvals",count:Ee.length},{id:"applications",label:"Applications",count:c.length},{id:"notices",label:"Notices & Events"},{id:"verification",label:"Verifications",count:Se.length}].map(a=>e.jsxs("button",{onClick:()=>F(a.id),className:`px-5 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${D===a.id?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[a.label,a.count&&a.count>0?e.jsx("span",{className:"bg-rose-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:a.count}):null]},a.id))})]}),D==="students"&&e.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-5 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-50/50",children:[e.jsxs("div",{className:"relative w-full md:w-80",children:[e.jsx(hs,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search by name or roll no...",className:"pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm w-full focus:ring-2 focus:ring-slate-900 outline-none transition",value:pe,onChange:a=>De(a.target.value)})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[e.jsxs("button",{onClick:()=>j(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-900 hover:bg-slate-800 text-white rounded-xl text-xs font-bold transition shadow-sm",children:[e.jsx(Fe,{size:14})," Add Student"]}),e.jsxs("button",{onClick:()=>He(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-xs font-bold transition shadow-sm",children:[e.jsx(Cs,{size:14})," Smart Import"]}),e.jsxs("button",{onClick:()=>Qe(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-xl text-xs font-bold transition shadow-sm",children:[e.jsx(Xe,{size:14})," Export"]})]})]}),H.size>0&&e.jsxs("div",{className:"mx-5 mb-4 p-4 bg-slate-900 text-white rounded-xl flex items-center justify-between shadow-lg animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"font-bold text-sm bg-white/20 px-3 py-1 rounded-full",children:[H.size," Selected"]}),e.jsx("div",{className:"h-6 w-px bg-white/20"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>ts(!0),className:"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/40 text-red-200 rounded-lg text-xs font-bold transition flex items-center gap-2",children:[e.jsx(Ie,{size:14})," Bulk Blacklist"]}),e.jsxs("button",{onClick:()=>ts(!1),className:"px-3 py-1.5 bg-green-500/20 hover:bg-green-500/40 text-green-200 rounded-lg text-xs font-bold transition flex items-center gap-2",children:[e.jsx(Y,{size:14})," Bulk Unblock"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>te(new Set),className:"px-3 py-1.5 text-white/60 hover:text-white transition text-xs font-bold",children:"Cancel"}),e.jsxs("button",{onClick:ss,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl text-xs font-bold transition shadow-sm flex items-center gap-2",children:[e.jsx(je,{size:14})," Delete Selected"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5 w-10",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900",checked:H.size>0&&H.size===ze.length,onChange:()=>es(ze)})}),e.jsx("th",{className:"p-5",children:"Student Identity"}),e.jsx("th",{className:"p-5",children:"Academic Info"}),e.jsx("th",{className:"p-5",children:"Performance"}),e.jsx("th",{className:"p-5",children:"Login Password"}),e.jsx("th",{className:"p-5",children:"Status"}),e.jsx("th",{className:"p-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:ze.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-10 text-center text-slate-400 font-medium",children:"No records found."})}):ze.map(a=>e.jsxs("tr",{className:`hover:bg-slate-50/80 transition-colors cursor-pointer ${H.has(a.id)?"bg-slate-50":""}`,onClick:()=>we(a),children:[e.jsx("td",{className:"p-5",onClick:u=>u.stopPropagation(),children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900",checked:H.has(a.id),onChange:()=>Ze(a.id)})}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:a.name}),e.jsx("div",{className:"text-xs text-slate-500 font-medium mt-0.5",children:a.rollNo})]}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"text-sm font-medium text-slate-700",children:a.branch}),e.jsxs("div",{className:"text-xs text-slate-400 mt-0.5",children:[a.course," â€¢ ",a.year]})]}),e.jsx("td",{className:"p-5",children:e.jsx("div",{className:"inline-block px-2 py-1 bg-slate-100 rounded text-xs font-mono font-bold text-slate-700",children:a.cgpa})}),e.jsx("td",{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-mono font-bold border border-blue-200",children:a.password}),e.jsx("button",{onClick:u=>{u.stopPropagation(),navigator.clipboard.writeText(a.password||""),alert("Password copied to clipboard!")},className:"p-1.5 hover:bg-slate-100 rounded transition text-slate-400 hover:text-slate-700",title:"Copy password",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})}),e.jsx("td",{className:"p-5",children:a.isBlacklisted?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100",children:[e.jsx(Ie,{size:12})," Blacklisted"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100",children:[e.jsx(Y,{size:12})," Active"]})}),e.jsx("td",{className:"p-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:u=>{u.stopPropagation(),we(a)},className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition",title:"View Profile",children:e.jsx(Ce,{size:16})}),e.jsx("button",{onClick:u=>{u.stopPropagation(),Is(a.id)},className:`p-2 rounded-lg transition ${a.isBlacklisted?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-red-50 text-red-600 hover:bg-red-100"}`,title:a.isBlacklisted?"Unblock Student":"Blacklist Student",children:a.isBlacklisted?e.jsx(Y,{size:16}):e.jsx(Ie,{size:16})}),e.jsx("button",{onClick:u=>{u.stopPropagation(),as(a.id,a.name)},className:"p-2 bg-slate-100 text-slate-400 hover:bg-red-600 hover:text-white rounded-lg transition",title:"Permanently Remove Student",children:e.jsx(je,{size:16})})]})})]},a.id))})]})})]})}),D==="companies"&&e.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-5 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-50/50",children:e.jsxs("div",{className:"relative w-full md:w-80",children:[e.jsx(hs,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search companies...",className:"pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm w-full focus:ring-2 focus:ring-slate-900 outline-none transition",value:Ve,onChange:a=>Ds(a.target.value)})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Company"}),e.jsx("th",{className:"p-5",children:"HR Contact"}),e.jsx("th",{className:"p-5",children:"Drives"}),e.jsx("th",{className:"p-5",children:"Status"}),e.jsx("th",{className:"p-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:ns.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-10 text-center text-slate-400 font-medium",children:"No companies found."})}):ns.map(a=>{const u=l.filter($=>$.companyId===a.id);return e.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors cursor-pointer",onClick:()=>qe(a),children:[e.jsx("td",{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(he,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900",children:a.name}),a.description&&e.jsx("div",{className:"text-xs text-slate-500 mt-0.5 line-clamp-1",children:a.description})]})]})}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-medium text-slate-700",children:a.hrName}),e.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:a.hrEmail})]}),e.jsx("td",{className:"p-5",children:e.jsxs("div",{className:"inline-block px-3 py-1 bg-slate-100 rounded-full text-sm font-bold text-slate-700",children:[u.length," ",u.length===1?"Drive":"Drives"]})}),e.jsx("td",{className:"p-5",children:a.isApproved?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100",children:[e.jsx(Y,{size:12})," Approved"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-yellow-50 text-yellow-600 border border-yellow-100",children:[e.jsx(Ie,{size:12})," Pending"]})}),e.jsx("td",{className:"p-5 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[!a.isApproved&&e.jsxs("button",{onClick:$=>{$.stopPropagation(),is(a.id)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white rounded-lg text-xs font-bold hover:bg-green-700 transition shadow-sm",title:"Approve Company",children:[e.jsx(Ae,{size:14})," Approve"]}),e.jsx("button",{onClick:$=>{$.stopPropagation(),qe(a)},className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition",title:"View Details",children:e.jsx(Ce,{size:16})})]})})]},a.id)})})]})})]})}),D==="verification"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-2",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg text-slate-900",children:"Pending Verifications"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Validate student data against hard copies."})]})}),H.size>0&&e.jsxs("div",{className:"mx-5 mb-4 p-4 bg-slate-900 text-white rounded-xl flex items-center justify-between shadow-lg animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"font-bold text-sm bg-white/20 px-3 py-1 rounded-full",children:[H.size," Selected"]}),e.jsx("div",{className:"h-6 w-px bg-white/20"}),e.jsxs("button",{onClick:Rs,className:"px-3 py-1.5 bg-green-500/20 hover:bg-green-500/40 text-green-200 rounded-lg text-xs font-bold transition flex items-center gap-2",children:[e.jsx(Y,{size:14})," Bulk Verify"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>te(new Set),className:"px-3 py-1.5 text-white/60 hover:text-white transition text-xs font-bold",children:"Cancel"}),e.jsxs("button",{onClick:ss,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl text-xs font-bold transition shadow-sm flex items-center gap-2",children:[e.jsx(je,{size:14})," Delete Selected"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5 w-10",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900",checked:H.size>0&&H.size===Se.length,onChange:()=>es(Se)})}),e.jsx("th",{className:"p-5",children:"Student"}),e.jsx("th",{className:"p-5",children:"Submitted Data"}),e.jsx("th",{className:"p-5 text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:Se.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-10 text-center text-slate-400 font-medium",children:"All profiles verified."})}):Se.map(a=>e.jsxs("tr",{className:`hover:bg-slate-50 transition-colors cursor-pointer ${H.has(a.id)?"bg-slate-50":""}`,onClick:()=>we(a),children:[e.jsx("td",{className:"p-5",onClick:u=>u.stopPropagation(),children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900",checked:H.has(a.id),onChange:()=>Ze(a.id)})}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:a.name}),e.jsx("div",{className:"text-xs text-slate-500 font-medium mt-0.5",children:a.email})]}),e.jsxs("td",{className:"p-5 text-sm",children:[e.jsxs("div",{className:"font-medium text-slate-700",children:[a.course," - ",a.branch]}),e.jsxs("div",{className:"text-slate-500 mt-1",children:["Roll: ",e.jsx("span",{className:"font-mono text-slate-700",children:a.rollNo})," | CGPA: ",e.jsx("span",{className:"font-mono text-slate-700",children:(a.cgpa||0).toFixed(2)})]})]}),e.jsxs("td",{className:"p-5 text-right space-x-2",children:[e.jsx("button",{onClick:u=>{u.stopPropagation(),we(a)},className:"p-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition",title:"View Details",children:e.jsx(Ce,{size:16})}),e.jsxs("button",{onClick:u=>{u.stopPropagation(),Ps(a.id)},className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl text-xs font-bold hover:bg-green-700 transition shadow-sm",children:[e.jsx(Y,{size:14})," Verify"]}),e.jsx("button",{onClick:u=>{u.stopPropagation(),as(a.id,a.name)},className:"p-2 bg-slate-100 text-slate-400 hover:bg-red-600 hover:text-white rounded-xl transition",title:"Delete Registration",children:e.jsx(je,{size:16})})]})]},a.id))})]})})]}),D==="approvals"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100",children:[e.jsx("h2",{className:"font-bold text-lg text-slate-900",children:"Company Approvals"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Approve new registration requests from recruiters."})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Company"}),e.jsx("th",{className:"p-5",children:"Drive Details"}),e.jsx("th",{className:"p-5",children:"HR Contact"}),e.jsx("th",{className:"p-5 text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:Ee.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-10 text-center text-slate-400 font-medium",children:"No pending approvals."})}):Ee.map(a=>{const u=l.find($=>$.companyId===a.id);return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900 text-lg",children:a.name}),e.jsxs("div",{className:"inline-block px-2 py-0.5 bg-slate-100 rounded text-[10px] font-bold text-slate-500 uppercase tracking-wide mt-1",children:["Deadline: ",(u==null?void 0:u.deadline)||"N/A"]})]}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-blue-600",children:(u==null?void 0:u.role)||"N/A"}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1 font-medium",children:[(u==null?void 0:u.ctc)||"N/A"," ",e.jsx("span",{className:"text-slate-300 mx-1",children:"|"})," Min CGPA: ",(u==null?void 0:u.minCgpa)||"N/A"]})]}),e.jsxs("td",{className:"p-5 text-sm",children:[e.jsx("div",{className:"font-medium text-slate-900",children:a.hrName}),e.jsx("div",{className:"text-slate-500",children:a.hrEmail})]}),e.jsx("td",{className:"p-5 text-right",children:e.jsxs("button",{onClick:()=>is(a.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-slate-800 transition shadow-sm",children:[e.jsx(Ae,{size:14})," Approve"]})})]},a.id)})})]})})]}),T&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-lg w-full transform transition-all",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Import Student Database"}),e.jsx("button",{onClick:()=>G(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(se,{size:24})})]}),e.jsxs("div",{className:"mb-6 bg-slate-50 p-4 rounded-xl border border-slate-200",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Upload CSV File"}),e.jsx("input",{type:"file",accept:".csv",onChange:Us,className:`block w-full text-sm text-slate-500
                                file:mr-4 file:py-2 file:px-4
                                file:rounded-full file:border-0
                                file:text-xs file:font-bold
                                file:bg-slate-200 file:text-slate-700
                                hover:file:bg-slate-300
                                cursor-pointer
                            `})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase font-bold tracking-widest",children:e.jsx("span",{className:"px-2 bg-white text-slate-400",children:"Or paste raw data"})})]}),e.jsx("p",{className:"text-xs text-slate-400 mb-2 font-medium",children:"Format: Name, Email, RollNo, CGPA, Branch (one per line)"}),e.jsx("p",{className:"text-xs text-green-600 mb-2 font-medium",children:"âœ¨ Passwords will be auto-generated and welcome emails sent automatically!"}),e.jsx("textarea",{className:"w-full border border-slate-200 bg-slate-50 p-4 rounded-xl h-40 font-mono text-sm focus:ring-2 focus:ring-slate-900 outline-none",placeholder:`John Doe, john@nfsu.ac.in, NFSU001, 9.5, M.Sc Cyber Security
Jane Smith, jane@nfsu.ac.in, NFSU002, 8.8, M.Sc Digital Forensics`,value:V,onChange:a=>R(a.target.value)}),e.jsx("button",{onClick:Bs,className:"w-full mt-6 bg-slate-900 text-white py-3.5 rounded-xl font-bold hover:bg-slate-800 transition shadow-lg shadow-slate-200",children:"Process Database Import"})]})}),D==="notices"&&e.jsx(St,{notices:g,events:I,onUpdate:ee}),D==="applications"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"All Applications"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Manage placement drive applications and update round statuses"})]}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Student"}),e.jsx("th",{className:"p-5",children:"Drive & Company"}),e.jsx("th",{className:"p-5",children:"Applied Date"}),e.jsx("th",{className:"p-5",children:"Current Round"}),e.jsx("th",{className:"p-5",children:"Status"}),e.jsx("th",{className:"p-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-10 text-center text-slate-400 font-medium",children:"No applications found."})}):c.map(a=>{var ae;const u=x[a.studentId],$=M[a.driveId],Q=$?w[$.companyId]:void 0,Z=(ae=a.roundStatuses)==null?void 0:ae[a.currentRound];return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:(u==null?void 0:u.name)||"Unknown"}),e.jsx("div",{className:"text-xs text-slate-500",children:u==null?void 0:u.rollNo})]}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:($==null?void 0:$.role)||"Unknown"}),e.jsx("div",{className:"text-xs text-slate-500",children:(Q==null?void 0:Q.name)||"Unknown"})]}),e.jsx("td",{className:"p-5 text-sm text-slate-600",children:new Date(a.appliedAt).toLocaleDateString()}),e.jsx("td",{className:"p-5",children:Z?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Z.roundName}),e.jsx("div",{className:`text-xs ${Z.status==="Cleared"?"text-green-600":Z.status==="Rejected"?"text-red-600":Z.status==="Scheduled"?"text-blue-600":"text-slate-500"}`,children:Z.status})]}):e.jsx("span",{className:"text-xs text-slate-400",children:"No rounds"})}),e.jsx("td",{className:"p-5",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${a.status==="Selected"?"bg-green-100 text-green-700 border-green-200":a.status==="Rejected"?"bg-red-50 text-red-600 border-red-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:a.status})}),e.jsx("td",{className:"p-5 text-right",children:e.jsx("button",{onClick:()=>C(a),className:"px-4 py-2 bg-slate-900 text-white rounded-lg text-xs font-bold hover:bg-slate-800 transition",children:"Manage"})})]},a.id)})})]})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Add Student"}),e.jsx("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(se,{size:24})})]}),e.jsxs("form",{onSubmit:Ms,className:"space-y-4",children:[e.jsx("input",{required:!0,placeholder:"Full Name",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:N.name,onChange:a=>P({...N,name:a.target.value})}),e.jsx("input",{required:!0,placeholder:"Roll No",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:N.rollNo,onChange:a=>P({...N,rollNo:a.target.value})}),e.jsx("input",{required:!0,placeholder:"Email",type:"email",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:N.email,onChange:a=>P({...N,email:a.target.value})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{required:!0,placeholder:"CGPA",type:"number",step:"0.1",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:N.cgpa,onChange:a=>P({...N,cgpa:parseFloat(a.target.value)})}),e.jsx("select",{className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:N.branch,onChange:a=>P({...N,branch:a.target.value}),children:ne.map(a=>e.jsx("option",{children:a},a))})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3.5 rounded-xl font-bold hover:bg-slate-800 transition shadow-lg shadow-slate-200 mt-2",children:"Create Record"})]})]})}),Ge&&e.jsx(yt,{student:Ge,applications:c.filter(a=>a.studentId===Ge.id),drives:l,companies:r,onClose:()=>we(null)}),_e&&e.jsx(wt,{company:_e,drives:l.filter(a=>a.companyId===_e.id),allApplications:c,students:s,onClose:()=>qe(null)}),S&&(()=>{const a=x[S.studentId],u=M[S.driveId],$=u?w[u.companyId]:void 0;return!a||!u||!$?null:e.jsx(kt,{application:S,student:a,drive:u,company:$,onUpdate:()=>{C(null),ee()},onClose:()=>C(null)})})(),Es&&e.jsx(Ct,{onClose:()=>He(!1),onImportComplete:()=>{ee(),He(!1)}}),zs&&e.jsx(At,{students:s,onClose:()=>Qe(!1)})]})},Dt=()=>{const[s,t]=n.useState([]),[r,f]=n.useState([]),[c,h]=n.useState([]),[l,d]=n.useState([]),[x,y]=n.useState(null),[M,p]=n.useState(!0),w=async()=>{const[C,g,i,I]=await Promise.all([E.getCompanies(),E.getDrives(),E.getApplications(),E.getStudents()]);t(C),f(g),h(i),d(I),p(!1)};n.useEffect(()=>{w()},[]);const A=r.find(C=>C.id===x),D=A?s.find(C=>C.id===A.companyId):null,F=c.filter(C=>C.driveId===x),S=async(C,g)=>{await E.updateApplicationStatus(C,g),await w()};return M?e.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading drives..."}):e.jsxs("div",{className:"flex h-[calc(100vh-8rem)] gap-6",children:[e.jsxs("div",{className:"w-1/3 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:e.jsx("h2",{className:"font-bold text-gray-700",children:"Active Placement Drives"})}),e.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-2",children:r.map(C=>{const g=s.find(I=>I.id===C.companyId),i=c.filter(I=>I.driveId===C.id).length;return e.jsxs("button",{onClick:()=>y(C.id),className:`w-full text-left p-3 rounded-lg border transition-all ${x===C.id?"border-blue-500 bg-blue-50":"border-gray-100 hover:border-blue-300"}`,children:[e.jsx("div",{className:"font-semibold text-gray-800 line-clamp-1",children:C.role}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(he,{size:10})," ",g==null?void 0:g.name]}),e.jsxs("div",{className:"text-xs text-gray-500 flex justify-between mt-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${C.status==="Open"?"bg-green-100 text-green-700":"bg-red-50 text-red-600"}`,children:C.status}),e.jsxs("span",{className:"flex items-center gap-1 bg-gray-200 px-2 py-0.5 rounded-full text-gray-700 font-bold",children:[e.jsx(ks,{size:10})," ",i]})]})]},C.id)})})]}),e.jsx("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:A?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-800",children:A.role}),e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[D==null?void 0:D.name,e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),A.ctc]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Total Applicants: ",e.jsx("span",{className:"font-bold",children:F.length})]})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Student Details"}),e.jsx("th",{className:"p-4",children:"Current Status"}),e.jsx("th",{className:"p-4",children:"Lifecycle Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[F.map(C=>{const g=l.find(i=>i.id===C.studentId);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(g==null?void 0:g.name)||"Unknown"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[g==null?void 0:g.rollNo," | ",g==null?void 0:g.branch]}),e.jsxs("div",{className:"text-xs text-blue-600 font-mono mt-0.5",children:["CGPA: ",g==null?void 0:g.cgpa]})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${C.status===W.SELECTED?"bg-green-100 text-green-700 border-green-200":C.status===W.REJECTED?"bg-red-100 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-100"}`,children:C.status})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-1 flex-wrap",children:[[W.SHORTLISTED,W.TECHNICAL,W.HR,W.SELECTED].map(i=>e.jsx("button",{onClick:()=>S(C.id,i),disabled:C.status===i,className:`px-2 py-1 text-[10px] uppercase font-bold rounded border transition ${C.status===i?"bg-slate-800 text-white border-slate-800":"bg-white text-gray-600 border-gray-200 hover:border-blue-400 hover:text-blue-600"}`,children:i.replace(" Round","")},i)),e.jsx("button",{onClick:()=>S(C.id,W.REJECTED),className:"px-2 py-1 text-[10px] uppercase font-bold rounded border bg-white text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]})})]},C.id)}),F.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"p-8 text-center text-gray-400",children:"No applications received yet."})})]})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(xe,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{children:"Select a drive from the left to manage applications"})]})})]})},fs=()=>{const s=E.getCurrentUser(),[t,r]=n.useState([]),[f,c]=n.useState([]),[h,l]=n.useState([]),[d,x]=n.useState([]),[y,M]=n.useState(void 0),[p,w]=n.useState([]),[A,D]=n.useState("drives"),[F,S]=n.useState(null),[C,g]=n.useState(!1);n.useEffect(()=>{(async()=>{if(!s)return;const[m,U,j,N]=await Promise.all([E.getCompanies(),E.getDrives(),E.getApplications(),E.getStudents()]);r(m),c(U),l(j),x(N);const P=m.find(V=>V.id===s.id);M(P),P&&w(U.filter(V=>V.companyId===P.id))})()},[s]);const[i,I]=n.useState({role:"",ctc:"",minCgpa:0,maxBacklogs:0,eligibleBranches:[],deadline:"",status:"Open"}),[k,q]=n.useState(""),z=o=>h.filter(m=>m.driveId===o),L=F?z(F).filter(o=>!k||o.status===k):[],O=async o=>{if(o.preventDefault(),!y)return;const m={...i,id:`d${Date.now()}`,companyId:y.id,rounds:["Aptitude","Technical","HR"],description:`Drive for ${i.role}`};await E.saveDrive(m);const j=d.filter(T=>(m.eligibleBranches||[]).includes(T.branch)&&(!m.minCgpa||T.cgpa>=m.minCgpa)).map(T=>T.email).join(","),N=`New Drive: ${m.role} at ${y.name}`,P=`Dear Students,

We are hiring for the position of ${m.role}.

CTC: ${m.ctc}
Deadline: ${m.deadline}

Apply on the portal.`,V=`mailto:?bcc=${j}&subject=${encodeURIComponent(N)}&body=${encodeURIComponent(P)}`;window.location.href=V,g(!1),I({role:"",ctc:"",minCgpa:0,maxBacklogs:0,eligibleBranches:[],deadline:"",status:"Open"});const R=await E.getDrives();c(R),w(R.filter(T=>T.companyId===y.id))},b=o=>{const m=i.eligibleBranches||[];m.includes(o)?I({...i,eligibleBranches:m.filter(U=>U!==o)}):I({...i,eligibleBranches:[...m,o]})},v=()=>{const m=`data:text/csv;charset=utf-8,Name,Email,Branch,CGPA,Status
`+L.map(N=>{const P=d.find(V=>V.id===N.studentId);return[P==null?void 0:P.name,P==null?void 0:P.email,P==null?void 0:P.branch,P==null?void 0:P.cgpa,N.status].join(",")}).join(`
`),U=encodeURI(m),j=document.createElement("a");j.setAttribute("href",U),j.setAttribute("download","applicants.csv"),document.body.appendChild(j),j.click(),document.body.removeChild(j)};return y?e.jsxs("div",{className:"space-y-8 font-sans text-slate-900 pb-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:"Recruiter Dashboard"}),e.jsxs("p",{className:"text-slate-500 font-medium mt-1",children:[y.name," â€¢ HR Portal"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>g(!0),className:"bg-slate-900 text-white px-5 py-2.5 rounded-xl font-bold text-sm hover:bg-slate-800 transition shadow-lg flex items-center gap-2",children:[e.jsx(Fe,{size:16})," New Drive"]})})]}),e.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[e.jsxs("button",{onClick:()=>{D("drives"),S(null)},className:`px-6 py-3 text-sm font-bold transition-all relative ${A==="drives"?"text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:["My Drives ",e.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full text-xs ml-2",children:p.length}),A==="drives"&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-900"})]}),e.jsxs("button",{onClick:()=>D("applicants"),className:`px-6 py-3 text-sm font-bold transition-all relative ${A==="applicants"?"text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:["View Applicants",A==="applicants"&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-900"})]})]}),A==="drives"&&e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-2",children:[p.map(o=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 hover:border-slate-300 transition shadow-sm hover:shadow-md group relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl",children:e.jsx(xe,{size:24})}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${o.status==="Open"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:o.status})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:o.role}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-2 mb-6",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ss,{size:14})," ",o.ctc]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ie,{size:14})," ",o.deadline]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 pt-4",children:[e.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase",children:[z(o.id).length," Applicants"]}),e.jsxs("button",{onClick:()=>{S(o.id),D("applicants")},className:"text-sm font-bold text-slate-900 hover:text-rose-600 flex items-center gap-1 transition",children:["View Candidates ",e.jsx(Oe,{size:14})]})]})]},o.id)),p.length===0&&e.jsx("div",{className:"col-span-full py-20 text-center text-slate-400 bg-slate-50 rounded-2xl border border-dashed border-slate-200",children:'No drives posted yet. Click "New Drive" to start.'})]}),A==="applicants"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[e.jsxs("select",{className:"px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-slate-900 outline-none w-full md:w-64",value:F||"",onChange:o=>S(o.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select a Drive"}),p.map(o=>e.jsxs("option",{value:o.id,children:[o.role," (",z(o.id).length,")"]},o.id))]}),e.jsxs("div",{className:"relative w-full md:w-auto",children:[e.jsxs("select",{className:"pl-3 pr-8 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-slate-900 outline-none appearance-none cursor-pointer hover:bg-slate-50 transition w-full",value:k,onChange:o=>q(o.target.value),children:[e.jsx("option",{value:"",children:"All Statuses"}),Object.values(W).map(o=>e.jsx("option",{value:o,children:o},o))]}),e.jsx(Ye,{className:"absolute right-3 top-3 text-slate-400 pointer-events-none",size:14})]})]}),F&&e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-slate-800 transition shadow-sm w-full md:w-auto justify-center",children:[e.jsx(Xe,{size:14})," Export CSV"]})]}),e.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:F?e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Candidate Name"}),e.jsx("th",{className:"p-5",children:"Academic Profile"}),e.jsx("th",{className:"p-5",children:"Applied At"}),e.jsx("th",{className:"p-5",children:"Status"}),e.jsx("th",{className:"p-5 text-right",children:"Resume"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:L.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-10 text-center text-slate-400 font-medium",children:"No candidates matching filters."})}):L.map(o=>{const m=d.find(U=>U.id===o.studentId);return e.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:m==null?void 0:m.name}),e.jsx("div",{className:"text-xs text-slate-500 mt-0.5 font-medium",children:m==null?void 0:m.email})]}),e.jsxs("td",{className:"p-5 text-sm",children:[e.jsx("div",{className:"text-slate-700 font-medium",children:m==null?void 0:m.branch}),e.jsxs("div",{className:"text-slate-400 text-xs mt-1",children:["CGPA: ",e.jsx("span",{className:"font-mono text-slate-600 font-bold",children:m==null?void 0:m.cgpa})]})]}),e.jsx("td",{className:"p-5 text-sm font-mono text-slate-500",children:o.appliedAt}),e.jsx("td",{className:"p-5",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${o.status===W.SELECTED?"bg-green-100 text-green-700 border-green-200":"bg-slate-100 text-slate-600 border-slate-200"}`,children:o.status})}),e.jsx("td",{className:"p-5 text-right",children:m!=null&&m.resumeUrl?e.jsx("a",{href:m.resumeUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline text-xs font-bold",children:"View PDF"}):e.jsx("span",{className:"text-slate-400 text-xs",children:"No Resume"})})]},o.id)})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[e.jsx(Ye,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{children:"Select a drive to view applicants"})]})})]}),C&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Post New Drive"}),e.jsx("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(se,{size:24})})]}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Title"}),e.jsx("input",{required:!0,className:"w-full border p-2.5 rounded-lg bg-slate-50",value:i.role,onChange:o=>I({...i,role:o.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CTC / Stipend"}),e.jsx("input",{required:!0,className:"w-full border p-2.5 rounded-lg bg-slate-50",value:i.ctc,onChange:o=>I({...i,ctc:o.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min CGPA"}),e.jsx("input",{required:!0,type:"number",step:"0.1",className:"w-full border p-2.5 rounded-lg bg-slate-50",value:i.minCgpa,onChange:o=>I({...i,minCgpa:parseFloat(o.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Backlogs"}),e.jsx("input",{required:!0,type:"number",className:"w-full border p-2.5 rounded-lg bg-slate-50",value:i.maxBacklogs,onChange:o=>I({...i,maxBacklogs:parseInt(o.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deadline"}),e.jsx("input",{required:!0,type:"date",className:"w-full border p-2.5 rounded-lg bg-slate-50",value:i.deadline,onChange:o=>I({...i,deadline:o.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Eligible Branches"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:ne.map(o=>{var m;return e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(m=i.eligibleBranches)==null?void 0:m.includes(o),onChange:()=>b(o),className:"w-4 h-4 text-slate-900"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:o})]},o)})})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3.5 rounded-xl font-bold hover:bg-slate-800 transition",children:"Publish Drive"})]})]})})]}):e.jsx("div",{className:"p-10 text-center text-slate-500",children:"Access Denied Or Loading..."})},Et=()=>new nt({apiKey:"AIzaSyBMDpRP9SJrH8RYtonXN2M2IhfITvVEKjs"}),zt=async(s,t)=>{try{const r=Et(),f="gemini-1.5-flash",c=`
        You are the Smart AI Assistant for the Placement Cell at National Forensic Sciences University (NFSU).
        Draft a formal, concise, and professional email based on the user's input.

        Topic / Subject Context: ${s}
        Key Details & Instructions:
        "${t}"

        Guidelines:
        1. Create a compelling Subject Line (start it with "Subject:").
        2. Tone: Professional, clear, and encouraging.
        3. Structure: Salutation -> Context -> Key Information -> Call to Action -> Sign-off.
        4. Sign off as "Placement Cell, NFSU".
        `;return(await r.models.generateContent({model:"gemini-1.5-flash",contents:[{parts:[{text:c}]}]})).text||"Failed to generate draft."}catch(r){return console.error("Gemini Error:",r),"Error: "+(r instanceof Error?r.message:String(r))}},Rt=()=>{const[s,t]=n.useState(""),[r,f]=n.useState(""),[c,h]=n.useState(""),[l,d]=n.useState(!1),[x,y]=n.useState([]);Te.useEffect(()=>{(async()=>{const A=await E.getStudents();y(A.map(D=>D.email))})()},[]);const M=async()=>{d(!0);try{const w=await zt(s,r);h(w)}catch{h("Error: Ensure Gemini API Key is set and valid.")}d(!1)},p=()=>{if(!c)return"#";const w=c.split(`
`);let A=`Important Notification: ${s}`,D=c;const F=w.find(S=>S.trim().toLowerCase().startsWith("subject:"));return F&&(A=F.replace(/subject:/i,"").trim(),D=w.filter(S=>S!==F).join(`
`).trim()),`mailto:?bcc=${x.join(",")}&subject=${encodeURIComponent(A)}&body=${encodeURIComponent(D)}`};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ps,{className:"text-purple-600"}),"AI Assistant Mail Bot"]}),e.jsx("p",{className:"text-gray-500",children:"Generate professional placement notifications and general announcements."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic / Subject Context"}),e.jsx("input",{className:"w-full border p-2 rounded mb-3",placeholder:"e.g. Exam Schedule Change, New Internship Opportunity",value:s,onChange:w=>t(w.target.value)}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Details & Instructions"}),e.jsx("textarea",{className:"w-full border p-2 rounded h-40 text-sm",placeholder:"Describe what needs to be communicated. Include dates, names, or specific points to mention.",value:r,onChange:w=>f(w.target.value)}),e.jsx("button",{onClick:M,disabled:l,className:"mt-4 w-full bg-purple-600 text-white py-2 rounded-lg font-medium hover:bg-purple-700 transition flex justify-center items-center gap-2",children:l?"Thinking...":e.jsxs(e.Fragment,{children:[e.jsx(ps,{size:16})," Generate Draft"]})})]})}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200 flex flex-col h-full",children:[e.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Preview"}),e.jsx("div",{className:"flex-1 bg-white p-4 rounded border border-gray-200 whitespace-pre-wrap text-sm text-gray-700 overflow-y-auto font-mono",children:c||e.jsx("span",{className:"text-gray-400 italic",children:"Draft will appear here..."})}),c&&e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(c),alert("Copied to clipboard!")},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 py-2 rounded text-sm hover:bg-gray-50",children:[e.jsx(it,{size:16})," Copy Text"]}),e.jsxs("a",{href:p(),className:"mail-btn flex-1 flex items-center justify-center gap-2 py-2 rounded text-sm bg-blue-600 text-white hover:bg-blue-700 transition font-bold",children:[e.jsx(ot,{size:16})," Open Mail Client"]})]})]})]})]})},It=()=>{const s=ce(),[t,r]=n.useState(void 0),[f,c]=n.useState(!0),[h,l]=n.useState(!1),[d,x]=n.useState(""),[y,M]=n.useState(""),[p,w]=n.useState(""),[A,D]=n.useState(""),[F,S]=n.useState(2025),[C,g]=n.useState(0),[i,I]=n.useState(0),[k,q]=n.useState(""),[z,L]=n.useState(""),[O,b]=n.useState(""),[v,o]=n.useState(!1),[m,U]=n.useState(""),[j,N]=n.useState(""),P=R=>{if(!R)return"";try{if(R.includes("drive.google.com")){const T=R.match(/\/d\/([^/]+)/);if(T&&T[1])return`https://drive.google.com/file/d/${T[1]}/preview`}return R}catch{return R}};n.useEffect(()=>{(async()=>{var pe,De;const T=E.getCurrentUser();if(!T){s("/login");return}const G=await E.getStudent(T.id);G?(r(G),x(G.name||""),M(G.rollNo||""),w(G.course||""),D(G.branch||""),S(G.year||2025),g(G.cgpa||0),I(G.backlogs||0),q(((pe=G.skills)==null?void 0:pe.join(", "))||""),L(((De=G.certifications)==null?void 0:De.join(", "))||""),b(G.resumeUrl||""),c(!1),l(!1)):(console.warn(`User ID ${T.id} not found in students list.`),l(!0),c(!1))})()},[s]);const V=async()=>{if(t){o(!0),N(""),U("");try{const R={...t,name:d,rollNo:y,course:p,branch:A,year:F,cgpa:C,backlogs:i,skills:k.split(",").map(T=>T.trim()).filter(Boolean),certifications:z.split(",").map(T=>T.trim()).filter(Boolean),resumeUrl:O||void 0,resumeFileName:O?"Google Drive Resume":void 0,resumeUploadedAt:O?new Date().toISOString():void 0,lastUpdated:new Date().toISOString()};await E.saveStudent(R),r(R),U("Profile updated successfully!"),setTimeout(()=>U(""),3e3)}catch(R){console.error("Save error:",R),N("Failed to save profile.")}finally{o(!1)}}};return f?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-slate-500 font-medium",children:"Loading profile..."})}):h||!t?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-6",children:[e.jsx(me,{size:48,className:"text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Profile Not Found"}),e.jsx("button",{onClick:()=>s("/"),className:"bg-slate-900 text-white px-6 py-2 rounded-xl font-bold mt-4",children:"Go Home"})]}):e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-12 animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("button",{onClick:()=>s("/student"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition mb-4 font-bold",children:[e.jsx(ve,{size:18})," Back to Dashboard"]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"My Profile Section"}),e.jsx("p",{className:"text-slate-500",children:"Official academic and professional record."})]}),t.isVerified?e.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-bold border border-green-200",children:[e.jsx(Ae,{size:16})," Verified"]}):e.jsxs("div",{className:"flex items-center gap-2 bg-amber-100 text-amber-700 px-4 py-2 rounded-full text-sm font-bold border border-amber-200",children:[e.jsx(me,{size:16})," Pending Verification"]})]}),e.jsxs("div",{className:"p-8 grid md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[e.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(Ue,{size:16,className:"text-slate-900"})," Identity"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Full Name (Editable)"}),e.jsx("input",{type:"text",className:"w-full font-bold text-slate-900 text-lg bg-slate-50 border border-slate-200 rounded-xl p-3 focus:ring-2 focus:ring-slate-900 outline-none",value:d,onChange:R=>x(R.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Official Email (Read-only)"}),e.jsxs("div",{className:"font-medium text-slate-400 flex items-center gap-2 p-3 bg-slate-50/50 rounded-xl border border-slate-100 italic",children:[e.jsx(Ne,{size:14})," ",t.email]}),e.jsx("p",{className:"text-[9px] text-slate-400 mt-1",children:"Email cannot be changed for security reasons."})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[e.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(ws,{size:16,className:"text-slate-900"})," Academic Specs"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Roll Number"}),e.jsx("input",{type:"text",className:"w-full text-sm font-bold font-mono bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-slate-900 outline-none",value:y,onChange:R=>M(R.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Course"}),e.jsx("input",{type:"text",className:"w-full text-sm font-bold bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-slate-900 outline-none",value:p,onChange:R=>w(R.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Branch"}),e.jsx("input",{type:"text",className:"w-full text-sm font-bold bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-slate-900 outline-none",value:A,onChange:R=>D(R.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Passing Year"}),e.jsx("input",{type:"number",className:"w-full text-sm font-bold bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-slate-900 outline-none",value:F,onChange:R=>S(parseInt(R.target.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"CGPA"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full text-lg font-black text-rose-600 bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-rose-500 outline-none",value:C,onChange:R=>g(parseFloat(R.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Backlogs"}),e.jsx("input",{type:"number",className:`w-full text-sm font-bold bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 ${i>0?"focus:ring-red-500 text-red-600":"focus:ring-green-500 text-green-600"}`,value:i,onChange:R=>I(parseInt(R.target.value))})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Technical Skills"}),e.jsx("input",{type:"text",className:"w-full border border-slate-200 p-3.5 rounded-xl focus:ring-2 focus:ring-slate-900 outline-none transition bg-white",value:k,onChange:R=>q(R.target.value),placeholder:"Python, Java, Forensic Tools..."}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold",children:"Comma separated items"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Certifications"}),e.jsx("input",{type:"text",className:"w-full border border-slate-200 p-3.5 rounded-xl focus:ring-2 focus:ring-slate-900 outline-none transition bg-white",value:z,onChange:R=>L(R.target.value),placeholder:"CEH, AWS, CISSP..."}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold",children:"Comma separated items"})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 text-white relative overflow-hidden",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2 relative z-10",children:[e.jsx(Oe,{size:18})," Professional Resume"]}),e.jsxs("div",{className:"space-y-4",children:[t.resumeUrl&&e.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-rose-900/30 to-rose-800/20 rounded-2xl border border-rose-500/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-500/20 rounded-full flex items-center justify-center",children:e.jsx(Be,{size:20,className:"text-rose-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-rose-400 uppercase tracking-wider",children:"Current Resume Link"}),e.jsx("p",{className:"text-sm font-bold text-white mt-0.5 line-clamp-1",children:t.resumeUrl})]})]}),e.jsxs("button",{onClick:()=>window.open(t.resumeUrl,"_blank"),className:"w-full bg-white/10 hover:bg-white/20 text-white text-[10px] font-bold py-3 rounded-xl border border-white/10 flex items-center justify-center gap-2 transition uppercase",children:[e.jsx(Ce,{size:14})," Open in New Tab"]}),e.jsx("div",{className:"mt-6 rounded-xl overflow-hidden border border-white/10 bg-black/20 h-[300px]",children:e.jsx("iframe",{src:P(t.resumeUrl),className:"w-full h-full border-none",title:"Resume Preview"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Update Resume Link"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-4 text-slate-500",children:e.jsx(Be,{size:20})}),e.jsx("input",{type:"url",placeholder:"Paste new Google Drive link...",className:"w-full bg-white/5 border border-white/10 rounded-2xl p-4 pl-12 text-white text-sm focus:ring-2 focus:ring-rose-500 outline-none transition",value:O,onChange:R=>b(R.target.value)})]}),e.jsx("p",{className:"text-[10px] text-slate-500 italic",children:'Ensure the link visibility is set to "Anyone with the link can view".'})]})]}),e.jsx("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-rose-600/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"pt-4",children:[m&&e.jsxs("div",{className:"text-green-600 text-sm font-bold mb-4 flex items-center gap-2 animate-in slide-in-from-left-2",children:[e.jsx(Ae,{size:18})," ",m]}),j&&e.jsxs("div",{className:"text-rose-600 text-sm font-bold mb-4 flex items-center gap-2",children:[e.jsx(me,{size:18})," ",j]}),e.jsx("button",{onClick:V,disabled:v,className:"w-full bg-slate-900 text-white py-5 rounded-2xl font-black text-lg shadow-2xl shadow-slate-200 hover:bg-slate-800 transition transform active:scale-[0.98] disabled:opacity-50",children:v?"Processing Update...":"Save Profile Changes"})]})]})]})]})]})},oe=({children:s,allowedRoles:t})=>{const r=E.getCurrentUser();return r?t.includes(r.role)?e.jsx(e.Fragment,{children:s}):e.jsx(Pe,{to:"/",replace:!0}):t.includes(_.ADMIN)?e.jsx(Pe,{to:"/admin-login",replace:!0}):t.includes(_.RECRUITER)?e.jsx(Pe,{to:"/recruiter-login",replace:!0}):e.jsx(Pe,{to:"/login",replace:!0})},Pt=()=>e.jsx(ct,{children:e.jsx(dt,{children:e.jsxs(J,{element:e.jsx(ut,{}),children:[e.jsx(J,{path:"/",element:e.jsx(ht,{})}),e.jsx(J,{path:"/login",element:e.jsx(pt,{})}),e.jsx(J,{path:"/admin-login",element:e.jsx(bt,{})}),e.jsx(J,{path:"/recruiter-login",element:e.jsx(jt,{})}),e.jsx(J,{path:"/register-company",element:e.jsx(gt,{})}),e.jsx(J,{path:"/signup",element:e.jsx(ft,{})}),e.jsx(J,{path:"/student/profile",element:e.jsx(oe,{allowedRoles:[_.STUDENT],children:e.jsx(It,{})})}),e.jsx(J,{path:"/student",element:e.jsx(oe,{allowedRoles:[_.STUDENT],children:e.jsx(vt,{})})}),e.jsx(J,{path:"/recruiter/drives",element:e.jsx(oe,{allowedRoles:[_.RECRUITER],children:e.jsx(fs,{})})}),e.jsx(J,{path:"/recruiter",element:e.jsx(oe,{allowedRoles:[_.RECRUITER],children:e.jsx(fs,{})})}),e.jsx(J,{path:"/admin/students",element:e.jsx(oe,{allowedRoles:[_.ADMIN],children:e.jsx(gs,{})})}),e.jsx(J,{path:"/admin/drives",element:e.jsx(oe,{allowedRoles:[_.ADMIN],children:e.jsx(Dt,{})})}),e.jsx(J,{path:"/admin/mail-bot",element:e.jsx(oe,{allowedRoles:[_.ADMIN],children:e.jsx(Rt,{})})}),e.jsx(J,{path:"/admin",element:e.jsx(oe,{allowedRoles:[_.ADMIN],children:e.jsx(gs,{})})})]})})}),As=document.getElementById("root");if(!As)throw new Error("Could not find root element to mount to");const Mt=xt.createRoot(As);Mt.render(e.jsx(Te.StrictMode,{children:e.jsx(Pt,{})}));
